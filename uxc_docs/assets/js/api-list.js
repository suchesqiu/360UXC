YUI.add("api-list",function(d){var e=d.Lang,j=d.Array,r=d.namespace("APIList"),s=d.one("#api-classes"),a=d.one("#api-filter"),c=d.one("#api-modules"),i=d.one("#api-tabview"),t=r.tabs={},n=r.filter=new d.APIFilter({inputNode:a,maxResults:1000,on:{results:b}}),m=r.search=new d.APISearch({inputNode:a,maxResults:100,on:{clear:k,results:u}}),h=r.tabview=new d.TabView({srcNode:i,panelNode:"#api-tabview-panel",render:true,on:{selectionChange:o}}),q=r.focusManager=i.plug(d.Plugin.NodeFocusManager,{circular:true,descendants:"#api-filter, .yui3-tab-panel-selected .api-list-item a, .yui3-tab-panel-selected .result a",keys:{next:"down:40",previous:"down:38"}}).focusManager,l='<li class="api-list-item {typeSingular}"><a href="{rootPath}{typePlural}/{name}.html">{displayName}</a></li>';d.before(function(w,v){if(w.altKey||w.ctrlKey||w.metaKey||w.shiftKey){return new d.Do.Prevent()}},q,"_focusPrevious",q);d.before(function(w,v){if(w.altKey||w.ctrlKey||w.metaKey||w.shiftKey){return new d.Do.Prevent()}},q,"_focusNext",q);h.each(function(x,w){var v=x.get("label").toLowerCase();t[v]={index:w,name:v,tab:x}});i.on("key",f,"down:37,39");d.one(d.config.doc).on("key",g,"down:83");a.on("focus",function(){q.set("activeDescendant",a)});h.get("panelNode").all("a").each(function(v){v.setAttribute("href",v.get("href"))});function p(){return n.get("queryType")==="classes"?s:c}function b(y){var z=d.one(d.config.doc.createDocumentFragment()),v=p(),w=n.get("queryType"),x=w==="classes"?"class":"module";if(y.results.length){j.each(y.results,function(A){z.append(e.sub(l,{rootPath:r.rootPath,displayName:n.getDisplayName(A.highlighted),name:A.text,typePlural:w,typeSingular:x}))})}else{z.append('<li class="message">No '+w+" found.</li>")}v.empty(true);v.append(z);q.refresh()}function k(v){q.refresh()}function g(w){var v=w.target;if(v.test("input,select,textarea")||v.get("isContentEditable")){return}w.preventDefault();a.focus();q.refresh()}function u(v){var w=d.one(d.config.doc.createDocumentFragment());if(v.results.length){j.each(v.results,function(x){w.append(x.display)})}else{w.append('<li class="message">No results found. Maybe you\'ll have better luck with a different query?</li>')}q.refresh()}function o(x){var w=x.newVal,v=w.get("label").toLowerCase();t.selected={index:w.get("index"),name:v,tab:w};switch(v){case"classes":case"modules":n.setAttrs({minQueryLength:0,queryType:v});m.set("minQueryLength",-1);if(x.prevVal){n.sendRequest(n.get("value"))}break;case"everything":n.set("minQueryLength",-1);m.set("minQueryLength",1);if(m.get("value")){m.sendRequest(m.get("value"))}else{a.focus()}break;default:n.set("minQueryLength",-1);m.set("minQueryLength",-1)}if(q){setTimeout(function(){q.refresh()},1)}}function f(w){var v=t.selected.index;if(!(w.ctrlKey||w.metaKey)){return}w.preventDefault();switch(w.keyCode){case 37:if(v>0){h.selectChild(v-1);a.focus()}break;case 39:if(v<(d.Object.size(t)-2)){h.selectChild(v+1);a.focus()}break}}},"3.4.0",{requires:["api-filter","api-search","event-key","node-focusmanager","tabview"]});