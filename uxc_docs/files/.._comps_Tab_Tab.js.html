<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>../comps/Tab/Tab.js - UXC jquery components</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../uxc.png" title="UXC jquery components"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/.window.html">.window</a></li>
            
                <li><a href="../classes/UXC.alert.html">UXC.alert</a></li>
            
                <li><a href="../classes/UXC.Calendar.html">UXC.Calendar</a></li>
            
                <li><a href="../classes/UXC.confirm.html">UXC.confirm</a></li>
            
                <li><a href="../classes/UXC.Dialog.html">UXC.Dialog</a></li>
            
                <li><a href="../classes/UXC.Dialog.alert.html">UXC.Dialog.alert</a></li>
            
                <li><a href="../classes/UXC.Dialog.confirm.html">UXC.Dialog.confirm</a></li>
            
                <li><a href="../classes/UXC.Dialog.mask.html">UXC.Dialog.mask</a></li>
            
                <li><a href="../classes/UXC.Form.html">UXC.Form</a></li>
            
                <li><a href="../classes/UXC.hideAllPopup.html">UXC.hideAllPopup</a></li>
            
                <li><a href="../classes/UXC.LunarCalendar.html">UXC.LunarCalendar</a></li>
            
                <li><a href="../classes/UXC.LunarCalendar.Model.html">UXC.LunarCalendar.Model</a></li>
            
                <li><a href="../classes/UXC.LunarCalendar.View.html">UXC.LunarCalendar.View</a></li>
            
                <li><a href="../classes/UXC.Panel.html">UXC.Panel</a></li>
            
                <li><a href="../classes/UXC.Panel.Model.html">UXC.Panel.Model</a></li>
            
                <li><a href="../classes/UXC.Panel.View.html">UXC.Panel.View</a></li>
            
                <li><a href="../classes/UXC.Tab.html">UXC.Tab</a></li>
            
                <li><a href="../classes/UXC.Tips.html">UXC.Tips</a></li>
            
                <li><a href="../classes/UXC.Tips.Model.html">UXC.Tips.Model</a></li>
            
                <li><a href="../classes/UXC.Tips.View.html">UXC.Tips.View</a></li>
            
                <li><a href="../classes/UXC.Tree.html">UXC.Tree</a></li>
            
                <li><a href="../classes/UXC.Tree.Model.html">UXC.Tree.Model</a></li>
            
                <li><a href="../classes/UXC.Valid.html">UXC.Valid</a></li>
            
                <li><a href="../classes/window.jQuery.html">window.jQuery</a></li>
            
                <li><a href="../classes/window.UXC.html">window.UXC</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ../comps/Tab/Tab.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
;(function($){
    !window.UXC &amp;&amp; (window.UXC = { log:function(){} });

    window.Tab = UXC.Tab = Tab;
    /**
     * Tab 菜单类
     * &lt;br /&gt;DOM 加载完毕后
     * , 只要鼠标移动到具有识别符的Tab上面, Tab就会自动初始化, 目前可识别: &lt;b&gt;.js_autoTab&lt;/b&gt;( CSS class )
     * &lt;br /&gt;需要手动初始化, 请使用: var ins = new UXC.Tab( _tabSelector );
     * &lt;p&gt;
     *      &lt;b&gt; Tab 容器的HTML属性 &lt;/b&gt;
     *      &lt;br /&gt;&lt;b&gt;tablabels&lt;/b&gt;: 声明 tab 标签的选择器语法
     *      &lt;br /&gt;&lt;b&gt;tabcontainers&lt;/b&gt;: 声明 tab 容器的选择器语法
     *      &lt;br /&gt;&lt;b&gt;tabactiveclass&lt;/b&gt;: 声明 tab当前标签的显示样式名, 默认为 cur
     *      &lt;br /&gt;&lt;b&gt;tablabelparent&lt;/b&gt;: 声明 tab的当前显示样式是在父节点, 默认为 tab label 节点
     *      &lt;br /&gt;&lt;b&gt;tabactivecallback&lt;/b&gt;: 当 tab label 被触发时的回调
     *      &lt;br /&gt;&lt;b&gt;tabchangecallback&lt;/b&gt;: 当 tab label 变更时的回调
     * &lt;/p&gt;
     * &lt;p&gt;
     *      &lt;b&gt; Label(标签) 容器的HTML属性(AJAX) &lt;/b&gt;
     *      &lt;br /&gt;&lt;b&gt;tabajaxurl&lt;/b&gt;: ajax 请求的 URL 地址
     *      &lt;br /&gt;&lt;b&gt;tabajaxmethod&lt;/b&gt;: ajax 请求的方法( get|post ), 默认 get
     *      &lt;br /&gt;&lt;b&gt;tabajaxdata&lt;/b&gt;: ajax 请求的 数据, json
     *      &lt;br /&gt;&lt;b&gt;tabajaxcallback&lt;/b&gt;: ajax 请求的回调
     * &lt;/p&gt;
     * &lt;p&gt;&lt;b&gt;require&lt;/b&gt;: &lt;a href=&#x27;window.jQuery.html&#x27;&gt;jQuery&lt;/a&gt;&lt;/p&gt;
     * &lt;p&gt;&lt;a href=&#x27;https://github.com/suchesqiu/360UXC.git&#x27; target=&#x27;_blank&#x27;&gt;UXC Project Site&lt;/a&gt;
     * | &lt;a href=&#x27;http://uxc.btbtd.org/uxc_docs/classes/UXC.Tab.html&#x27; target=&#x27;_blank&#x27;&gt;API docs&lt;/a&gt;
     * | &lt;a href=&#x27;../../comps/Tab/_demo/&#x27; target=&#x27;_blank&#x27;&gt;demo link&lt;/a&gt;&lt;/p&gt;
     * @namespace UXC
     * @class Tab
     * @constructor
     * @param   {selector|string}   _selector       要初始化的 Tab 选择器
     * @param   {selector|string}   _triggerTarget  初始完毕后要触发的 label
     * @version dev 0.1
     * @author  qiushaowei   &lt;suches@btbtd.org&gt; | 360 75 Team
     * @date    2013-07-04
     * @example
            &lt;link href=&#x27;../../../comps/Tab/res/default/style.css&#x27; rel=&#x27;stylesheet&#x27; /&gt;
            &lt;script src=&quot;../../../lib.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
                UXC.debug = 1;
                UXC.use( &#x27;Tab&#x27; );

                httpRequire();

                function tabactive( _evt, _container, _tabIns ){
                    var _label = $(this);
                    UXC.log( &#x27;tab &#x27;, _evt.type, _label.html(), new Date().getTime() );
                    if( UXC.Tab.isAjax( _label ) &amp;&amp; ! UXC.Tab.isAjaxInited( _label ) ){
                        _container.html( &#x27;&lt;h2&gt;内容加载中...&lt;/h2&gt;&#x27; );
                    }
                }

                function tabchange( _container, _tabIns ){
                    var _label = $(this);
                    UXC.log( &#x27;tab change: &#x27;, _label.html(), new Date().getTime() );
                }

                $(document).ready( function(){
                    UXC.Tab.ajaxCallback =
                        function( _data, _label, _container ){
                            _data &amp;&amp; ( _data = $.parseJSON( _data ) );
                            if( _data &amp;&amp; _data.errorno === 0 ){
                                _container.html( printf( &#x27;&lt;h2&gt;UXC.Tab.ajaxCallback&lt;/h2&gt;{0}&#x27;, _data.data ) );
                            }else{
                                Tab.isAjaxInited( _label, 0 );
                                _container.html( &#x27;&lt;h2&gt;内容加载失败!&lt;/h2&gt;&#x27; );
                            }
                        };
                });

                function ajaxcallback( _data, _label, _container ){
                    _data &amp;&amp; ( _data = $.parseJSON( _data ) );
                    if( _data &amp;&amp; _data.errorno === 0 ){
                        _container.html( printf( &#x27;&lt;h2&gt;label attr ajaxcallback&lt;/h2&gt;{0}&#x27;, _data.data ) );
                    }else{
                        Tab.isAjaxInited( _label, 0 );
                        _container.html( &#x27;&lt;h2&gt;内容加载失败!&lt;/h2&gt;&#x27; );
                    }
                };
            &lt;/script&gt;

            &lt;dl class=&quot;def&quot;&gt;
                &lt;dt&gt;UXC.Tab 示例 - 静态内容&lt;/dt&gt;
                &lt;dd&gt;
                &lt;div class=&quot;le-tabview js_autoTab&quot; tablabels=&quot;ul.js_tabLabel &gt; li &gt; a&quot; tabcontainers=&quot;div.js_tabContent &gt; div&quot; 
                                                    tabactiveclass=&quot;active&quot; tablabelparent=&quot;li&quot; 
                                                    tabactivecallback=&quot;tabactive&quot; tabchangecallback=&quot;tabchange&quot;
                                                    &gt;
                        &lt;ul class=&quot;le-tabs js_tabLabel&quot;&gt;
                            &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;javascript:&quot;&gt;电视剧&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href=&quot;javascript:&quot;&gt;电影&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href=&quot;javascript:&quot;&gt;综艺&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href=&quot;javascript:&quot;&gt;热点&lt;/a&gt;&lt;/li&gt;
                        &lt;/ul&gt;
                        &lt;div class=&quot;views js_tabContent&quot;&gt;
                            &lt;div class=&quot;view-item active&quot;&gt;1. 集地议送能拿距还杨雷火，永鲜提只风超洋轻绿动视落清各只江执口。&lt;/div&gt;
                            &lt;div class=&quot;view-item&quot;&gt;2. 相送黄血富打万念却烟会华它表本雷烟形烟消卷效难标否标滑固小实。&lt;/div&gt;
                            &lt;div class=&quot;view-item&quot;&gt;3. 理往局背剧养认被站推简沉形括於穿短，精白自没路绿往优八益是入。&lt;/div&gt;
                            &lt;div class=&quot;view-item&quot;&gt;4. 鲁杆格滑那双来班五材实死听顶脱本续克修先课丝另乡型茶父报孔图。&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/dd&gt;
            &lt;/dl&gt;

            &lt;dl class=&quot;def&quot;&gt;
                &lt;dt&gt;UXC.Tab 示例 - 动态内容 - AJAX&lt;/dt&gt;
                &lt;dd&gt;
                &lt;div class=&quot;le-tabview js_autoTab&quot; tablabels=&quot;ul.js_tabLabel2 &gt; li &gt; a&quot; tabcontainers=&quot;div.js_tabContent2 &gt; div&quot; 
                                                    tabactiveclass=&quot;active&quot; tablabelparent=&quot;li&quot; 
                                                    tabactivecallback=&quot;tabactive&quot; tabchangecallback=&quot;tabchange&quot;
                                                    &gt;
                        &lt;ul class=&quot;le-tabs js_tabLabel2&quot;&gt;
                            &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;javascript:&quot;&gt;电视剧&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href=&quot;javascript:&quot; tabajaxurl=&quot;data/test.php&quot; tabajaxmethod=&quot;post&quot; 
                                                      tabajaxdata=&quot;{a:1,b:2}&quot; tabajaxcallback=&quot;ajaxcallback&quot; &gt;电影&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href=&quot;javascript:&quot; tabajaxurl=&quot;data/test.php&quot; tabajaxcallback=&quot;ajaxcallback&quot; &gt;综艺&lt;/a&gt;&lt;/li&gt;
                            &lt;li&gt;&lt;a href=&quot;javascript:&quot; tabajaxurl=&quot;data/test.php&quot; &gt;热点&lt;/a&gt;&lt;/li&gt;
                        &lt;/ul&gt;
                        &lt;div class=&quot;views js_tabContent2&quot;&gt;
                            &lt;div class=&quot;view-item active&quot;&gt;1. 集地议送能拿距还杨雷火，永鲜提只风超洋轻绿动视落清各只江执口。&lt;/div&gt;
                            &lt;div class=&quot;view-item&quot;&gt;&lt;/div&gt;
                            &lt;div class=&quot;view-item&quot;&gt;&lt;/div&gt;
                            &lt;div class=&quot;view-item&quot;&gt;&lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/dd&gt;
            &lt;/dl&gt;
     */
    function Tab( _selector, _triggerTarget ){
        _selector &amp;&amp; ( _selector = $( _selector ) );
        _triggerTarget &amp;&amp; ( _triggerTarget = $( _triggerTarget) );
        if( Tab.getInstance( _selector ) ) return Tab.getInstance( _selector );
        /**
         * Tab 模型类的实例
         * @property    _model
         * @type    UXC.Tab.Model
         * @private
         */
        this._model = new Model( _selector, _triggerTarget );
        /**
         * Tab 视图类的实例
         */
        this._view = new View( this._model );

        UXC.log( &#x27;initing tab&#x27; );
        this._init();
    }
    /**
     * 页面加载完毕后, 是否要添加自动初始化事件
     * &lt;br /&gt; 自动初始化是 鼠标移动到 Tab 容器时去执行的, 不是页面加载完毕后就开始自动初始化
     * @property    autoInit
     * @type        bool
     * @default     true
     * @static
     */
    Tab.autoInit = true;
    /**
     * label 当前状态的样式
     * @property    activeClass
     * @type        string
     * @default     cur
     * @static      
     */
    Tab.activeClass = &#x27;cur&#x27;;
    /**
     * label 的触发事件
     * @property    activeEvent
     * @type        string
     * @default     click
     * @static
     */
    Tab.activeEvent = &#x27;click&#x27;;
    /**
     * 获取或设置 Tab 容器的 Tab 实例属性
     * @method  getInstance
     * @param   {selector}  _selector
     * @param   {UXC.Tab}   _setter     _setter 不为空是设置
     * @static
     */
    Tab.getInstance = 
        function( _selector, _setter ){
            var _r;
            _selector &amp;&amp; ( _selector = $(_selector) ).length &amp;&amp; (
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; _selector.data(&#x27;TabInstance&#x27;, _setter)
                , _r =  _selector.data(&#x27;TabInstance&#x27;)
            );
            return _r;
        };
    /**
     * 全局的 ajax 处理回调
     * @property    ajaxCallback
     * @type    function
     * @default null
     * @static
     * @example
            $(document).ready( function(){
                UXC.Tab.ajaxCallback =
                    function( _data, _label, _container, _textStatus, _jqXHR ){
                        _data &amp;&amp; ( _data = $.parseJSON( _data ) );
                        if( _data &amp;&amp; _data.errorno === 0 ){
                            _container.html( printf( &#x27;&lt;h2&gt;UXC.Tab.ajaxCallback&lt;/h2&gt;{0}&#x27;, _data.data ) );
                        }else{
                            Tab.isAjaxInited( _label, 0 );
                            _container.html( &#x27;&lt;h2&gt;内容加载失败!&lt;/h2&gt;&#x27; );
                        }
                    };
            });
     */
    Tab.ajaxCallback = null;
    /**
     * ajax 请求是否添加随机参数 rnd, 以防止页面缓存的结果差异
     * @property    ajaxRandom
     * @type    bool
     * @default true
     * @static
     */
    Tab.ajaxRandom = true;
    /**
     * 判断一个 label 是否为 ajax
     * @method  isAjax
     * @static
     * @param   {selector}  _label
     * @return  {string|undefined}
     */
    Tab.isAjax =
        function( _label ){
            return $(_label).attr(&#x27;tabajaxurl&#x27;);
        };
    /**
     * 判断一个 ajax label 是否已经初始化过
     * &lt;br /&gt; 这个方法需要跟 Tab.isAjax 结合判断才更为准确
     * @method  isAjaxInited
     * @static
     * @param   {selector}  _label
     * @param   {bool}      _setter     如果 _setter 不为空, 则进行赋值
     * @example
        function tabactive( _evt, _container, _tabIns ){
            var _label = $(this);
            UXC.log( &#x27;tab &#x27;, _evt.type, _label.html(), new Date().getTime() );
            if( UXC.Tab.isAjax( _label ) &amp;&amp; ! UXC.Tab.isAjaxInited( _label ) ){
                _container.html( &#x27;&lt;h2&gt;内容加载中...&lt;/h2&gt;&#x27; );
            }
        }
     */
    Tab.isAjaxInited =
        function( _label, _setter ){
            _setter != &#x27;undefined&#x27; &amp;&amp; ( $(_label).data(&#x27;TabAjaxInited&#x27;, _setter ) );
            return $(_label).data(&#x27;TabAjaxInited&#x27;);
        }

    Tab.prototype = {
        /**
         * Tab 内部初始化方法
         * @method  _init
         * @private
         */
        _init:
            function(){
                if( !this._model.layoutIsTab() ) return this;
                Tab.getInstance( this._model.layout(), this );
                this._view.init();

                var _triggerTarget = $(this._model.triggerTarget());
                _triggerTarget &amp;&amp; _triggerTarget.length 
                &amp;&amp; this._model.tablabel( _triggerTarget ) &amp;&amp; _triggerTarget.trigger(&#x27;click&#x27;);

                return this;
            }    
        /**
         * 把 _label 设置为活动状态
         * @method active
         * @param   {selector}  _label
         */
        , active:
            function( _label ){
                var _ix;
                if( typeof _label == &#x27;number&#x27; ) _ix = _label;
                else{
                    _label &amp;&amp; $(_label).length &amp;&amp; ( _ix = this._model.tabindex( _label ) );
                }

                typeof _ix != &#x27;undefined&#x27; &amp;&amp; ( this._view.active( _ix ) );
                return this;
            }
    }
    /**
     * TODO 添加注释
     */
    function Model( _selector, _triggerTarget ){
        this._layout = _selector;
        this._triggerTarget = _triggerTarget;

        this._tablabels;
        this._tabcontainers;

        this.currentIndex;
        
        this._init();
    }
    
    Model.prototype = {
        _init:
            function(){
                if( !this.layoutIsTab() ) return;
                var _p = this;
                this._tablabels = $( this.layout().attr(&#x27;tablabels&#x27;) );
                this._tabcontainers = $( this.layout().attr(&#x27;tabcontainers&#x27;) );

                this._tablabels.each( function(){ _p.tablabel( this, 1 ); } );
                this._tabcontainers.each( function(){ _p.tabcontent( this, 1 ); } );
                this._tablabels.each( function( _ix ){ _p.tabindex( this, _ix ); });

                return this;
            }

        , layout: function(){ return this._layout; }
        , tablabels: function( _ix ){ 
            if( typeof _ix != &#x27;undefined&#x27; ) return $( this._tablabels[_ix] );
            return this._tablabels; 
        }
        , tabcontainers: function( _ix ){ 
            if( typeof _ix != &#x27;undefined&#x27; ) return $( this._tabcontainers[_ix] );
            return this._tabcontainers; 
        }
        , triggerTarget: function(){ return this._triggerTarget; }
        , layoutIsTab: function(){ return this.layout().attr(&#x27;tablabels&#x27;) &amp;&amp; this.layout().attr(&#x27;tabcontainers&#x27;); }
        , activeClass: function(){ return this.layout().attr(&#x27;tabactiveclass&#x27;) || Tab.activeClass; }
        , activeEvent: function(){ return this.layout().attr(&#x27;tabactiveevent&#x27;) || Tab.activeEvent; }
        , tablabel: 
            function( _label, _setter ){
                _label &amp;&amp; ( _label = $( _label ) );
                if( !( _label &amp;&amp; _label.length ) ) return;
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; _label.data( &#x27;TabLabel&#x27;, _setter );
                return _label.data( &#x27;TabLabel&#x27; );
            }
        , tabcontent: 
            function( _content, _setter ){
                _content &amp;&amp; ( _content = $( _content ) );
                if( !( _content &amp;&amp; _content.length ) ) return;
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; _content.data( &#x27;TabContent&#x27;, _setter );
                return _content.data( &#x27;TabContent&#x27; );
            }
        , tabindex: 
            function( _label, _setter ){
                _label &amp;&amp; ( _label = $( _label ) );
                if( !( _label &amp;&amp; _label.length ) ) return;
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; _label.data( &#x27;TabIndex&#x27;, _setter );
                return _label.data( &#x27;TabIndex&#x27; );
            }
        , tabactivecallback:
            function(){
                var _r;
                this.layout().attr(&#x27;tabactivecallback&#x27;) &amp;&amp; ( _r = window[ this.layout().attr(&#x27;tabactivecallback&#x27;) ] );
                return _r;
            }
        , tabchangecallback:
            function(){
                var _r;
                this.layout().attr(&#x27;tabchangecallback&#x27;) &amp;&amp; ( _r = window[ this.layout().attr(&#x27;tabchangecallback&#x27;) ] );
                return _r;
            }
        , tablabelparent:
            function( _label ){
                var _tmp;
                this.layout().attr(&#x27;tablabelparent&#x27;) 
                    &amp;&amp; ( _tmp = _label.parent( this.layout().attr(&#x27;tablabelparent&#x27;) ) ) 
                    &amp;&amp; _tmp.length &amp;&amp; ( _label = _tmp );
                return _label;
            }
        , tabajaxurl: function( _label ){ return _label.attr(&#x27;tabajaxurl&#x27;); }
        , tabajaxmethod: function( _label ){ return (_label.attr(&#x27;tabajaxmethod&#x27;) || &#x27;get&#x27;).toLowerCase(); }
        , tabajaxdata: 
            function( _label ){ 
                var _r;
                _label.attr(&#x27;tabajaxdata&#x27;) &amp;&amp; ( eval( &#x27;(_r = &#x27; + _label.attr(&#x27;tabajaxdata&#x27;) + &#x27;)&#x27; ) );
                _r = _r || {};
                Tab.ajaxRandom &amp;&amp; ( _r.rnd = new Date().getTime() );
                return _r;
            }
        , tabajaxcallback: 
            function( _label ){ 
                var _r = Tab.ajaxCallback, _tmp;
                _label.attr(&#x27;tabajaxcallback&#x27;) &amp;&amp; ( _tmp = window[ _label.attr(&#x27;tabajaxcallback&#x27;) ] ) &amp;&amp; ( _r = _tmp );
                return _r;
            }
    };
    /**
     * TODO 添加注释
     */
    function View( _model ){
        this._model = _model;
    }
    
    View.prototype = {
        init:
            function() {
                UXC.log( &#x27;Tab.View:&#x27;, new Date().getTime() );
                var _p = this;
                this._model.tablabels().on( this._model.activeEvent(), function( _evt ){
                    var _sp = $(this), _r;
                    if( typeof _p._model.currentIndex !== &#x27;undefined&#x27; 
                        &amp;&amp; _p._model.currentIndex === _p._model.tabindex( _sp ) ) return;
                    _p._model.currentIndex = _p._model.tabindex( _sp );

                    _p._model.tabactivecallback() 
                        &amp;&amp; ( _r = _p._model.tabactivecallback().call( this, _evt, _p._model.tabcontainers( _p._model.currentIndex ), _p ) );
                    if( _r === false ) return;
                    _p.active( _p._model.tabindex( _sp ) );
                });

                return this;
            }

        , active:
            function( _ix ){
                if( typeof _ix == &#x27;undefined&#x27; ) return;
                var _p = this, _r, _activeClass = _p._model.activeClass(), _activeItem = _p._model.tablabels( _ix );
                _p._model.tablabels().each( function(){
                    _p._model.tablabelparent( $(this) ).removeClass( _activeClass );
                });
                _activeItem = _p._model.tablabelparent( _activeItem );
                _activeItem.addClass( _activeClass );

                _p._model.tabcontainers().hide();
                _p._model.tabcontainers( _ix ).show();

                _p._model.tabchangecallback() 
                    &amp;&amp; ( _r = _p._model.tabchangecallback().call( _p._model.tablabels( _ix ), _p._model.tabcontainers( _ix ), _p ) );
                if( _r === false ) return;

                _p.activeAjax( _ix );
            }

        , activeAjax:
            function( _ix ){
                var _p = this, _label = _p._model.tablabels( _ix );
                if( !Tab.isAjax( _label ) ) return;
                if( Tab.isAjaxInited( _label ) ) return;
                var _url = _p._model.tabajaxurl( _label );
                if( !_url ) return;

                UXC.log( _p._model.tabajaxmethod( _label )
                        , _p._model.tabajaxdata( _label )
                        , _p._model.tabajaxcallback( _label )
                        );

                Tab.isAjaxInited( _label, 1 );
                $[ _p._model.tabajaxmethod( _label ) ]( _url, _p._model.tabajaxdata( _label ), function( _r, _textStatus, _jqXHR ){

                     _p._model.tabajaxcallback( _label ) 
                        &amp;&amp; _p._model.tabajaxcallback( _label )( _r, _label, _p._model.tabcontainers( _ix ), _p, _textStatus, _jqXHR );

                    !_p._model.tabajaxcallback( _label ) &amp;&amp; _p._model.tabcontainers( _ix ).html( _r );
                });
            }
    };

    $(document).delegate( &#x27;.js_autoTab&#x27;, &#x27;mouseover&#x27;, function( _evt ){
        if( !Tab.autoInit ) return;
        var _p = $(this), _tab, _src = _evt.target || _evt.srcElement;
        if( Tab.getInstance( _p ) ) return;
        _src &amp;&amp; ( _src = $(_src) );
        UXC.log( new Date().getTime(), _src.prop(&#x27;nodeName&#x27;) );
        _tab = new Tab( _p, _src );
    });

}(jQuery));

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
