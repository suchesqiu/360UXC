<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>../comps/Slider/Slider.js - UXC jquery components</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../uxc.png" title="UXC jquery components"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/.window.html">.window</a></li>
            
                <li><a href="../classes/UXC.alert.html">UXC.alert</a></li>
            
                <li><a href="../classes/UXC.Calendar.html">UXC.Calendar</a></li>
            
                <li><a href="../classes/UXC.confirm.html">UXC.confirm</a></li>
            
                <li><a href="../classes/UXC.Dialog.html">UXC.Dialog</a></li>
            
                <li><a href="../classes/UXC.Dialog.alert.html">UXC.Dialog.alert</a></li>
            
                <li><a href="../classes/UXC.Dialog.confirm.html">UXC.Dialog.confirm</a></li>
            
                <li><a href="../classes/UXC.Dialog.mask.html">UXC.Dialog.mask</a></li>
            
                <li><a href="../classes/UXC.Form.html">UXC.Form</a></li>
            
                <li><a href="../classes/UXC.hideAllPanel.html">UXC.hideAllPanel</a></li>
            
                <li><a href="../classes/UXC.hideAllPopup.html">UXC.hideAllPopup</a></li>
            
                <li><a href="../classes/UXC.LunarCalendar.html">UXC.LunarCalendar</a></li>
            
                <li><a href="../classes/UXC.LunarCalendar.Model.html">UXC.LunarCalendar.Model</a></li>
            
                <li><a href="../classes/UXC.LunarCalendar.View.html">UXC.LunarCalendar.View</a></li>
            
                <li><a href="../classes/UXC.Panel.html">UXC.Panel</a></li>
            
                <li><a href="../classes/UXC.Panel.Model.html">UXC.Panel.Model</a></li>
            
                <li><a href="../classes/UXC.Panel.View.html">UXC.Panel.View</a></li>
            
                <li><a href="../classes/UXC.Slider.html">UXC.Slider</a></li>
            
                <li><a href="../classes/UXC.Slider.Model.html">UXC.Slider.Model</a></li>
            
                <li><a href="../classes/UXC.Tab.html">UXC.Tab</a></li>
            
                <li><a href="../classes/UXC.Tab.Model.html">UXC.Tab.Model</a></li>
            
                <li><a href="../classes/UXC.Tab.View.html">UXC.Tab.View</a></li>
            
                <li><a href="../classes/UXC.Test.html">UXC.Test</a></li>
            
                <li><a href="../classes/UXC.Tips.html">UXC.Tips</a></li>
            
                <li><a href="../classes/UXC.Tips.Model.html">UXC.Tips.Model</a></li>
            
                <li><a href="../classes/UXC.Tips.View.html">UXC.Tips.View</a></li>
            
                <li><a href="../classes/UXC.Tree.html">UXC.Tree</a></li>
            
                <li><a href="../classes/UXC.Tree.Model.html">UXC.Tree.Model</a></li>
            
                <li><a href="../classes/UXC.Valid.html">UXC.Valid</a></li>
            
                <li><a href="../classes/window.jQuery.html">window.jQuery</a></li>
            
                <li><a href="../classes/window.UXC.html">window.UXC</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ../comps/Slider/Slider.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
;(function($){
    !window.UXC &amp;&amp; (window.UXC = { log:function(){} });
    window.ZINDEX_COUNT = window.ZINDEX_COUNT || 50001;

    window.Slider = UXC.Slider = Slider;
    /**
     * Slider 划动菜单类
     * &lt;br /&gt;页面加载完毕后, Slider 会查找那些有 class = js_autoSlider 的标签进行自动初始化
     * &lt;p&gt;&lt;b&gt;requires&lt;/b&gt;: &lt;a href=&#x27;window.jQuery.html&#x27;&gt;jQuery&lt;/a&gt;&lt;/p&gt;
     * &lt;p&gt;&lt;a href=&#x27;https://github.com/suchesqiu/360UXC.git&#x27; target=&#x27;_blank&#x27;&gt;UXC Project Site&lt;/a&gt;
     * | &lt;a href=&#x27;http://uxc.btbtd.org/uxc_docs/classes/UXC.Slider.html&#x27; target=&#x27;_blank&#x27;&gt;API docs&lt;/a&gt;
     * | &lt;a href=&#x27;../../comps/Slider/_demo&#x27; target=&#x27;_blank&#x27;&gt;demo link&lt;/a&gt;&lt;/p&gt;
     * &lt;p&gt;
     *      Slider 可以指定的一些常用 html 属性, 这个类的属性很多, 想了解得更详细看源码吧~
     *      &lt;br /&gt;&lt;b&gt;slidersubitems&lt;/b&gt;: 指定具体子元素是那些, selector ( 子元素默认是 layout的子标签 )
     *      &lt;br /&gt;&lt;b&gt;sliderleft&lt;/b&gt;: 左移的触发selector
     *      &lt;br /&gt;&lt;b&gt;sliderright&lt;/b&gt;: 右移的触发selector
     *      &lt;br /&gt;&lt;b&gt;sliderwidth&lt;/b&gt;: 主容器宽度
     *      &lt;br /&gt;&lt;b&gt;slideritemwidth&lt;/b&gt;: 子元素的宽度
     *      &lt;br /&gt;&lt;b&gt;sliderhowmanyitem&lt;/b&gt;: 每次滚动多少个子元素, 默认1
     *      &lt;br /&gt;&lt;b&gt;sliderdefaultpage&lt;/b&gt;: 默认显示第几页
     *      &lt;br /&gt;&lt;b&gt;sliderstepms&lt;/b&gt;: 滚动效果运动的间隔时间(毫秒), 默认 5
     *      &lt;br /&gt;&lt;b&gt;sliderdurationms&lt;/b&gt;: 滚动效果的总时间
     *
     *      &lt;br /&gt;&lt;b&gt;sliderdirection&lt;/b&gt;: 滚动的方向, 默认 horizontal, { horizontal, vertical }
     *      &lt;br /&gt;&lt;b&gt;sliderloop&lt;/b&gt;: 是否循环滚动
     *      &lt;br /&gt;&lt;b&gt;sliderinitedcb&lt;/b&gt;: 初始完毕后的回调函数, 便于进行更详细的声明
     *
     *      &lt;br /&gt;&lt;b&gt;sliderautomove&lt;/b&gt;: 是否自动滚动
     *      &lt;br /&gt;&lt;b&gt;sliderautomovems&lt;/b&gt;: 自动滚动的间隔
     * &lt;/p&gt;
     * @namespace UXC
     * @class Slider
     * @constructor
     * @param   {selector|string}   _selector   
     * @version dev 0.1
     * @author  qiushaowei   &lt;suches@btbtd.org&gt; | 75 Team
     * @date    2013-07-20
     * @example
            &lt;style&gt;
                .hslide_list dd{ display: none; }

                .hslide_list dd, .hslide_list dd img{
                    width: 160px;
                    height: 230px;
                }

                .slider_one_item dd, .slider_one_item dd img{
                    width: 820px;
                    height: 230px;
                }
            &lt;/style&gt;
            &lt;link href=&#x27;../../Slider/res/hslider/style.css&#x27; rel=&#x27;stylesheet&#x27; /&gt;
            &lt;script src=&quot;../../../lib.js&quot;&gt;&lt;/script&gt;
            &lt;script&gt;
                UXC.debug = true;
                UXC.use( &#x27;Slider&#x27; );

                function sliderinitedcb(){
                    var _sliderIns = this;

                    UXC.log( &#x27;sliderinitedcb&#x27;, new Date().getTime() );

                    _sliderIns.on(&#x27;outmin&#x27;, function(){
                        UXC.log( &#x27;slider outmin&#x27; );
                    }).on(&#x27;outmax&#x27;, function(){
                        UXC.log( &#x27;slider outmax&#x27; );
                    }).on(&#x27;movedone&#x27;, function( _evt, _oldpointer, _newpointer){
                        UXC.log( &#x27;slider movedone&#x27;, _evt, _oldpointer, _newpointer );
                    }).on(&#x27;beforemove&#x27;, function( _evt, _oldpointer, _newpointer ){
                        UXC.log( &#x27;slider beforemove&#x27;, _evt, _oldpointer, _newpointer );
                    });
                }
            &lt;/script&gt;
            &lt;table class=&quot;hslide_wra&quot;&gt;
                &lt;tr&gt;
                    &lt;td class=&quot;hslide_left&quot;&gt;
                        &lt;a href=&quot;javascript:&quot; hidefocus=&quot;true&quot; style=&quot;outline:none;&quot; class=&quot;js_slideleft&quot;&gt;左边滚动&lt;/a&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;hslide_mid&quot;&gt;
                        &lt;dl 
                            style=&quot;width:820px; height: 230px; margin:0 5px;&quot;
                            class=&quot;hslide_list clearfix js_slideList js_autoSlider&quot; 
                            slidersubitems=&quot;&gt; dd&quot; sliderleft=&quot;a.js_slideleft&quot; sliderright=&quot;a.js_slideright&quot; 
                            sliderwidth=&quot;820&quot; slideritemwidth=&quot;160&quot;
                            sliderdirection=&quot;horizontal&quot; sliderhowmanyitem=&quot;5&quot;
                            sliderloop=&quot;false&quot; sliderdurationms=&quot;300&quot;
                            sliderinitedcb=&quot;sliderinitedcb&quot;
                            &gt;
                            &lt;dd style=&quot;display: block; left: 0; &quot; class=&quot;tipsItem&quot;&gt;content...&lt;/dd&gt;
                            &lt;dd style=&quot;display: block; left: 0; &quot; class=&quot;tipsItem&quot;&gt;content...&lt;/dd&gt;
                            &lt;dd style=&quot;display: block; left: 0; &quot; class=&quot;tipsItem&quot;&gt;content...&lt;/dd&gt;
                        &lt;/dl&gt;
                    &lt;/td&gt;
                    &lt;td class=&quot;hslide_right&quot;&gt;
                        &lt;a href=&quot;javascript:&quot; hidefocus=&quot;true&quot; style=&quot;outline:none;&quot; class=&quot;js_slideright&quot;&gt;右边滚动&lt;/a&gt;
                    &lt;/td&gt;
                &lt;/tr&gt;
            &lt;/table&gt;

     */
    function Slider( _layout ){
        _layout &amp;&amp; ( _layout = $( _layout ) );
        if( Slider.getInstance( _layout ) ) return Slider.getInstance( _layout );
        Slider.getInstance( _layout, this );

        UXC.log( &#x27;Slider constructor&#x27;, new Date().getTime() );

        /**
         * 初始化数据模型
         */
        this._model = new Model( _layout );
        /**
         * 初始化视图模型( 根据不同的滚动方向, 初始化不同的视图类 )
         */
        switch( this._model.direction() ){
            case &#x27;vertical&#x27;: this._view = new VerticalView( this._model, this ); break;
            default: this._view = new HorizontalView( this._model, this ); break;
        }

        this._init();
    }
    
    Slider.prototype = {
        /**
         * 内部初始化方法
         * @method  _init
         * @private
         * @return bool
         */
        _init:
            function(){
                var _p = this;

                _p._initControl();

                _p.on(&#x27;cleartinterval&#x27;, function(){
                    _p._model.clearInterval();
                    _p._view.setPagePosition();
                });

                _p.on(&#x27;cleartimeout&#x27;, function(){
                    _p._model.clearTimeout();
                });

                _p._initAutoMove();

                _p._model.initedcb() &amp;&amp; _p.on(&#x27;inited&#x27;, _p._model.initedcb() );
                _p.trigger( &#x27;inited&#x27; );

                return this;
            }    
        /**
         * 自定义事件绑定函数
         * &lt;br /&gt;使用 jquery on 方法绑定 为 Slider 实例绑定事件
         * @method on
         * @param   {string}    _evtName
         * @param   {function}  _cb
         * @return SliderInstance
         */
        , on: 
            function( _evtName, _cb ){
                $(this).on( _evtName, _cb );
                return this;
            }
        /**
         * 自定义事件触发函数
         * &lt;br /&gt;使用 jquery trigger 方法绑定 为 Slider 实例函数自定义事件
         * @method  trigger
         * @param   {string}    _evtName
         * @return SliderInstance
         */
        , trigger: 
            function( _evtName ){
                $(this).trigger(_evtName);
                return this;
            }
        /**
         * 控制 Slider 向左或向右划动
         * @method  move
         * @param   {bool}    _backwrad     _backwrad = ture(向左), false(向右), 默认false
         * @return SliderInstance
         */
        , move: function( _backwrad ){ this._view.move( _backwrad ); return this; }
        /**
         * 控制 Slider 划动到指定索引
         * @method  moveTo
         * @param   {int}    _newpointer
         * @return SliderInstance
         */
        , moveTo: function( _newpointer ){ this._view.moveTo( _newpointer ); return this; }
        /**
         * 获取 Slider 的总索引数
         * @method  totalpage
         * @return int
         */
        , totalpage: function(){ return this._model.totalpage(); }
        /**
         * 获取 Slider 的当前索引数
         * @method  pointer
         * @return int
         */
        , pointer: function(){ return this._model.pointer(); }
        /**
         * 获取指定索引页的 selector 对象
         * @method  page
         * @param   {int}    _ix
         * @return array
         */
        , page: function( _ix ){ return this._model.page( _ix ); }
        /**
         * 获取 Slider 的主外观容器
         * @method  layout
         * @return selector
         */
        , layout: function(){ return this._model.layout(); }
        /**
         * 查找 layout 的内容
         * @method  find
         * @param   {selector}  _selector
         * @return selector
         */
        , find: function( _selector ){ return this._model.layout().find( _selector ) }
        , _initControl:
            function(){
                switch( this._model.direction() ){
                    case &#x27;vertical&#x27;: this._initVerticalControl(); break;
                    default: this._initHorizontalControl(); break;
                }
            }
        , _initHorizontalControl:
            function(){
                var _p = this;
                _p._model.leftbutton() 
                    &amp;&amp; _p._model.leftbutton().on( &#x27;click&#x27;, function( _evt ){
                        _p.trigger(&#x27;cleartimeout&#x27;);
                        _p.trigger(&#x27;movetoleft&#x27;);
                        _p._view.move( 1 );
                    })
                    .on(&#x27;mouseenter&#x27;, function(){ _p.trigger(&#x27;controlover&#x27;); } )
                    .on(&#x27;mouseleave&#x27;, function(){ _p.trigger(&#x27;controlout&#x27;); } )
                ;

                _p._model.rightbutton() 
                    &amp;&amp; _p._model.rightbutton().on( &#x27;click&#x27;, function( _evt ){
                        _p.trigger(&#x27;cleartimeout&#x27;);
                        _p.trigger(&#x27;movetoright&#x27;);
                        _p._view.move();
                    })
                    .on(&#x27;mouseenter&#x27;, function(){ _p.trigger(&#x27;controlover&#x27;); } )
                    .on(&#x27;mouseleave&#x27;, function(){ _p.trigger(&#x27;controlout&#x27;); } )
                ;
            }
        , _initVerticalControl:
            function(){
                var _p = this;
            }
        /**
         * 初始化自动滚动
         * &lt;br /&gt;如果 layout 的 html属性 sliderautomove=ture, 则会执行本函数
         * @method  _initAutoMove
         * @private
         * @return SliderInstance
         */
        , _initAutoMove:
            function(){
                var _p = this;
                if( !_p._model.automove() ) return;

                _p.on(&#x27;beforemove&#x27;, function( _evt, _oldpointer, _newpointer ){
                    _p.trigger(&#x27;cleartimeout&#x27;);
                });

                _p.on(&#x27;movedone&#x27;, function( _evt, _oldpointer, _newpointer ){
                    if( _p._model.controlover() ) return;
                    _p.trigger(&#x27;automove&#x27;);
                });

                _p._model.layout().on( &#x27;mouseenter&#x27;, function( _evt ){
                    _p.trigger(&#x27;cleartimeout&#x27;);
                    _p.trigger(&#x27;mouseenter&#x27;);
                });

                _p._model.layout().on( &#x27;mouseleave&#x27;, function( _evt ){
                    _p.trigger(&#x27;cleartimeout&#x27;);
                    _p.trigger(&#x27;mouseleave&#x27;);
                    _p._view.setPagePosition();
                    _p.trigger(&#x27;automove&#x27;);
                });

                _p.on(&#x27;controlover&#x27;, function(){
                    _p.trigger(&#x27;cleartimeout&#x27;);
                    _p._model.controlover( true );
                });

                _p.on(&#x27;controlout&#x27;, function(){
                    _p.trigger(&#x27;automove&#x27;);
                    _p._model.controlover( false );
                });

                _p.on(&#x27;movetoleft&#x27;, function(){
                    _p._model.moveDirection( false );
                });

                _p.on(&#x27;movetoright&#x27;, function(){
                    _p._model.moveDirection( true );
                });

                $( _p ).on(&#x27;automove&#x27;, function(){
                    _p._model.timeout( setTimeout( function(){
                        _p._view.moveTo( _p._model.automoveNewPointer() );
                    }, _p._model.automovems() ));
                });

                _p.trigger(&#x27;automove&#x27;);
                return this;
            }
    }
    /**
     * @event inited
     */
    /**
     * @event beforemove
     */
    /**
     * @event movedone
     */
    /**
     * @event outmin
     */
    /**
     * @event outmax
     */
    /**
     * 页面加载完毕后, 是否自动初始化 带有 class=js_autoSlider 的应用
     * @property   autoInit
     * @type    bool
     * @default true
     * @static
     */
    Slider.autoInit = true;
    /**
     * 批量初始化 Slider
     * @method init
     * @param   {selector}  _selector
     * @return array
     * @static
     */
    Slider.init =
        function( _selector ){
            var _insls = [];
            _selector &amp;&amp; ( _selector = $(_selector) );

            if( _selector &amp;&amp; _selector.length ){
                if( Slider.isSlider( _selector ) ){
                    if( Slider.getInstance( _selector ) ){
                        return [ Slider.getInstance( _selector ) ];
                    }
                    _insls.push( new Slider( _selector ) );
                }else{
                    _selector.find( &#x27;div.js_autoSlider, dl.js_autoSlider&#x27;
                                    +&#x27;, ul.js_autoSlider, ol.js_autoSlider&#x27; ).each(function(){
                        if( Slider.isSlider( this ) ){
                            if( Slider.getInstance( $(this) ) ){
                                _insls.push( Slider.getInstance( $(this) ) );
                                return;
                            }
                            _insls.push( new Slider( $(this) ) );
                        }
                    });
                }
            }
            return _insls;
        };
    /**
     * 从 selector 获得 或 设置 Slider 的实例
     * @method getInstance
     * @param   {selector}  _selector
     * @param   {SliderInstance}   _ins
     * @return SliderInstance
     * @static
     */
    Slider.getInstance =
        function( _selector, _ins ){
            _ins &amp;&amp; _selector &amp;&amp; $(_selector).data( &#x27;SliderIns&#x27;, _ins );
            return _selector ? $(_selector).data(&#x27;SliderIns&#x27;) : null;
        };
    /**
     * 判断 selector 是否具备 实例化 Slider 的条件
     * @method  isSlider
     * @param   {selector}  _selector
     * @return bool
     * @static
     */
    Slider.isSlider =
        function( _selector ){
            _selector &amp;&amp; ( _selector = $(_selector) );
            return _selector &amp;&amp; ( _selector.is( &#x27;[sliderwidth]&#x27; ) || _selector.is( &#x27;[sliderheight]&#x27; ) );
        };

    /**
     * Slider 的通用模型类
     * @namespace UXC.Slider
     * @class   Model
     * @constructor
     * @param   {selector}  _layout
     */
    function Model( _layout ){
        /**
         * 保存 layout 的引用 
         * @property    _layout
         * @type    selector
         * @private
         */
        this._layout = _layout;
        /**
         * 自动移动的方向
         * &lt;br /&gt; true = 向右|向下, false = 向左|向上
         * @property    _moveDirection
         * @type    bool
         * @default true
         * @private
         */
        this._moveDirection = true;
        /**
         * 滚动时的 interval 引用
         * @property    _interval
         * @type    interval
         * @private
         */
        this._interval;
        /**
         * 自动滚动时的 timeout 引用
         * @property    _timeout
         * @type    timeout
         * @private
         */
        this._timeout;
        
        this._init();
    }
    
    Model.prototype = {
        /**
         * 内部初始化方法
         * @method _init
         * @private
         * @return Slider.Model
         */
        _init:
            function(){
                this.subitems();
                this.totalpage();

                UXC.log( printf(&#x27;w:{0}, h:{1}, iw:{2}, ih:{3}, dr:{4}, si:{6}, hi:{5}, totalpage:{7}&#x27;
                            , this.width(), this.height()
                            , this.itemwidth(), this.itemheight()
                            , this.direction(), this.howmanyitem()
                            , this.subitems().length
                            , this.totalpage()
                ));

                return this;
            }
        /**
         * 获取 slider 外观的 selector
         * @method layout
         * @return selector
         */
        , layout: function(){ return this._layout; }
        /**
         * 获取 左移的 selector
         * @method leftbutton
         * @return selector
         */
        , leftbutton: function(){ return this._layout.is( &#x27;[sliderleft]&#x27; ) ? $( this._layout.attr(&#x27;sliderleft&#x27;) ) : null; }
        /**
         * 获取 右移的 selector
         * @method rightbutton
         * @return selector
         */
        , rightbutton: function(){ return this._layout.is( &#x27;[sliderright]&#x27; ) ? $( this._layout.attr(&#x27;sliderright&#x27;) ) : null; }
        /**
         * 获取移动方向
         * &lt;br /&gt;horizontal, vertical
         * @method direction
         * @default horizontal
         * @return string
         */
        , direction: function(){ return this._layout.attr(&#x27;sliderdirection&#x27;).toLowerCase() || &#x27;horizontal&#x27;; }
        /**
         * 获取/设置自动移动的方向
         * &lt;br /&gt; true = 向右|向下, false = 向左|向上
         * @method  moveDirection
         * @param   {string}    _setter
         * @return string
         */
        , moveDirection:
            function( _setter ){
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; ( this._moveDirection = _setter );
                UXC.log( &#x27;moveDirection&#x27;, this._moveDirection );
                return this._moveDirection;
            }
        /**
         * 获取每次移动多少项
         * @method howmanyitem
         * @return int
         */
        , howmanyitem: function(){ return parseInt( this._layout.attr(&#x27;sliderhowmanyitem&#x27;), 10 ) || 1; }
        /**
         * 获取宽度
         * @method width
         * @default 800 
         * @return int
         */
        , width: function(){ return parseInt( this._layout.attr(&#x27;sliderwidth&#x27;), 10 ) || 800; }
        /**
         * 获取高度
         * @method height
         * @default 230
         * @return int
         */
        , height: function(){ return parseInt( this._layout.attr(&#x27;sliderheight&#x27;), 10 ) || 230; }
        /**
         * 获取项宽度
         * @method itemwidth
         * @default 160
         * @return int
         */
        , itemwidth: function(){ return parseInt( this._layout.attr(&#x27;slideritemwidth&#x27;), 10 ) || 160; }
        /**
         * 获取项高度
         * @method itemheight
         * @default 230
         * @return int
         */
        , itemheight: function(){ return parseInt( this._layout.attr(&#x27;slideritemheight&#x27;), 10 ) || 230; }
        /**
         * 每次移动的总时间, 单位毫秒
         * @method      loop
         * @default false
         * @return bool
         */
        , loop: function(){ return parseBool( this._layout.attr(&#x27;sliderloop&#x27;) ); }
        /**
         * 获取每次移动间隔的毫秒数
         * @method stepms
         * @default 10
         * @return int
         */
        , stepms: function(){ return parseInt( this._layout.attr(&#x27;sliderstepms&#x27;), 10 ) || 10; }
        /**
         * 获取每次移动持续的毫秒数
         * @method durationms
         * @default 300
         * @return int
         */
        , durationms: function(){ return parseInt( this._layout.attr(&#x27;sliderdurationms&#x27;), 10 ) || 300; }
        /**
         * 获取自动滚动的间隔
         * @method automovems
         * @default 2000
         * @return int
         */
        , automovems: function(){ return parseInt( this._layout.attr(&#x27;sliderautomovems&#x27;), 10 ) || 2000; }
        /**
         * 获取是否自动滚动
         * @method automove
         * @default false
         * @return bool
         */
        , automove: function(){ return parseBool( this._layout.attr(&#x27;sliderautomove&#x27;) ); }
        /**
         * 获取默认显示的索引
         * @method  defaultpage
         * @return  int
         * @default 0
         */
        , defaultpage: function(){ return parseInt( this._layout.attr(&#x27;sliderdefaultpage&#x27;), 10 ) || 0; }
        /**
         * 获取划动的所有项
         * @method  subitems
         * @return  selector
         */
        , subitems:
            function(){
                if( this._layout.is( &#x27;[slidersubitems]&#x27; ) ){
                    this._subitems = this._layout.find( this._layout.attr(&#x27;slidersubitems&#x27;) );
                }else{
                    this._subitems = this._layout.children();
                }
                return this._subitems;
            }
        /**
         * 获取分页总数
         * &lt;br /&gt; Math.ceil( subitems / howmanyitem )
         * @method  totalpage
         * @return  int
         */
        , totalpage:
            function(){
                this.subitems();
                if( this.howmanyitem() &gt; 1 ){
                    this._totalpage = Math.ceil( this._subitems.length / this.howmanyitem() );
                }else{
                    this._totalpage = this._subitems.length;
                }
                return this._totalpage;
            }
        /**
         * 获取指定页的所有划动项
         * @method  page
         * @param   {int}   _index
         * @return array
         */
        , page:
            function( _index ){
                this.subitems();
                !_index &amp;&amp; ( _index = 0 );
                _index &lt; 0 &amp;&amp; ( _index = 0 );
                _index &gt;= this.totalpage() &amp;&amp; ( _index = this.totalpage() - 1 );
                _index *= this.howmanyitem();
                var _r = [];
                for( var i = _index, count = 0; count &lt; this.howmanyitem() &amp;&amp; i &lt; this._subitems.length; i++, count++ ){
                    _r.push( $(this._subitems[i]) );
                }
                return _r;
            }
        /**
         * 获取/设置当前索引位置
         * @method  pointer
         * @param   {int}   _setter
         * @return int
         */
        , pointer: 
            function( _setter ){ 
                if( typeof this._pointer == &#x27;undefined&#x27; ) this._pointer = this.defaultpage();
                if( typeof _setter != &#x27;undefined&#x27; ) this._pointer = this.fixpointer( _setter );
                return this._pointer;
            }
        /**
         * 获取新的划动位置
         * &lt;br /&gt;根据划向的方向 和 是否循环 
         * @method  newpointer
         * @param   {bool}  _isbackward
         * @return int
         */
        , newpointer:
            function( _isbackward ){
                var _r = this.pointer();
                _isbackward &amp;&amp; _r--;
                !_isbackward &amp;&amp; _r++;

                _r = this.fixpointer( _r );
                return _r;
            }
        /**
         * 修正指针的索引位置, 防止范围溢出
         * @method  fixpointer
         * @param   {int}   _pointer
         * @return int
         */
        , fixpointer:
            function( _pointer ){
                var _r = _pointer;
                if( this.loop() ){
                    _r &lt; 0 &amp;&amp; ( _r = this.totalpage() - 1 );
                    _r &gt;= this.totalpage() &amp;&amp; ( _r = 0 );
                }else{
                    _r &lt; 0 &amp;&amp; ( _r = 0 );
                    _r &gt;= this.totalpage() &amp;&amp; ( _r = this.totalpage() - 1 );
                }
                return _r;
            }
        /**
         * 获取自动萌动的新索引
         * @method  automoveNewPointer
         * @return int
         */
        , automoveNewPointer:
            function(){
                var _r = this.pointer();
                if( this.moveDirection() ){
                    _r++;
                }else{
                    _r--;
                }

                if( this.loop() ){
                    if( _r &gt;= this.totalpage() ){
                        _r = 0;
                    }else if( _r &lt; 0 ){
                        _r = this.totalpage() - 1;
                    }
                }else{
                    if( _r &gt;= this.totalpage() ){
                        _r = this.totalpage() - 2;
                        this.moveDirection( false );
                    }else if( _r &lt; 0 ){
                        _r = 1
                        this.moveDirection( true );
                    }
                }
                return _r;
            }
        /**
         * 获取/设置 划动的 interval 对象
         * @method  interval
         * @param   {interval}  _setter
         * @return  interval
         */
        , interval:
            function( _setter ){
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; ( this._interval = _setter );
                return this._interval;
            }
        /**
         * 清除划动的 interval
         * @method clearInterval
         */
        , &#x27;clearInterval&#x27;:
            function(){
                this.interval() &amp;&amp; clearInterval( this.interval() );
            }
        /**
         * 获取/设置 自动划动的 timeout
         * @method  timeout
         * @param   {timeout}   _setter
         * @return  timeout
         */
        , timeout:
            function( _setter ){
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; ( this._timeout = _setter );
                return this._timeout;
            }
        /**
         * 清除自动划动的 timeout
         * @method clearTimeout
         */
        , &#x27;clearTimeout&#x27;:
            function(){
                this.timeout() &amp;&amp; clearTimeout( this.timeout() );
            }
        /**
         * 获取/设置当前鼠标是否位于 slider 及其控件上面
         * @method  controlover
         * @param   {bool}  _setter
         * @return  bool
         */
        , controlover:
            function( _setter ){
                typeof _setter != &#x27;undefined&#x27; &amp;&amp; ( this._controlover = _setter );
                return this._controlover;
            }
        /**
         * 获取初始化后的回调函数
         * @method initedcb
         * @return function|undefined
         */
        , initedcb: 
            function(){ 
                this._layout.is(&#x27;[sliderinitedcb]&#x27;) 
                    &amp;&amp; window[ this._layout.attr(&#x27;sliderinitedcb&#x27;) ]
                    &amp;&amp; ( this._initedcb = window[ this._layout.attr(&#x27;sliderinitedcb&#x27;) ] );
                return this._initedcb; 
            }

    };
    
    function HorizontalView( _model, _slider ){
        this._model = _model;
        this._slider = _slider;

        this._itemspace = 
                        ( 
                            this._model.width() - 
                            Math.floor( this._model.width() / this._model.itemwidth() ) * this._model.itemwidth()
                        )
                        / ( this._model.totalpage() - 1 );
        this._itemspace = parseInt( this._itemspace );

        this._init();
    }

    HorizontalView.prototype = {
        _init:
            function() {
                this.setPagePosition( this._model.pointer() );

                return this;
            }

        , move:
            function( _backwrad ){
                var _p = this;
                _backwrad = !!_backwrad;
                UXC.log( &#x27;HorizontalView move, is backwrad&#x27;, _backwrad, this._model.pointer() );

                var _newpointer = this._model.newpointer( _backwrad );
                UXC.log( printf( &#x27;is backwrad: {0}, pointer:{1}, new pointer:{2}&#x27;
                            , _backwrad, this._model.pointer(), _newpointer
                            ));

                this.moveTo( _newpointer );
            }

        , moveTo:
            function( _newpointer ){
                var _p = this;

                if( !this._model.loop() ){
                    if( _newpointer &lt;= this._model.pointer() &amp;&amp; this._model.pointer() === 0 ){
                        $(this._slider).trigger( &#x27;outmin&#x27; );
                        return;
                    }
                    if( _newpointer &gt;= this._model.pointer() &amp;&amp; this._model.pointer() &gt;= this._model.totalpage() - 1 ){
                        $(this._slider).trigger( &#x27;outmax&#x27; );
                        return;
                    }
                }

                _newpointer = this._model.fixpointer( _newpointer );
                var _oldpointer = this._model.pointer();
                if( _newpointer === _oldpointer ) return;


                var _opage = this._model.page( _oldpointer )
                    , _npage = this._model.page( _newpointer );
                ;
                var _concat = _opage.concat( _npage );

                this._setNewPagePosition( _opage, _npage, _oldpointer, _newpointer );
                _p._model.pointer( _newpointer );
            }

        , _setNewPagePosition:
            function( _opage, _npage, _oldpointer, _newpointer ){
                var _p = this, _begin, _concat = _opage.concat( _npage ), _isPlus;

                $( this._slider ).trigger( &#x27;cleartinterval&#x27; );

                if( _oldpointer &lt; _newpointer ){
                    _begin = this._model.width() + this._itemspace;
                }else{
                    _begin = -( this._model.width() + this._itemspace );
                    _isPlus = true;
                }

                _oldpointer === (_p._model.totalpage() - 1 ) 
                    &amp;&amp; _newpointer === 0 
                    &amp;&amp; ( _begin = this._model.width() + this._itemspace, _isPlus = false );

                _oldpointer === 0 
                    &amp;&amp; _newpointer === (_p._model.totalpage() - 1 ) 
                    &amp;&amp; ( _begin = -( this._model.width() + this._itemspace ), _isPlus = true );

                $.each( _npage, function( _ix, _item ){
                    var _sp = $(_item);
                        _sp.css( { &#x27;left&#x27;: _begin + _p._model.itemwidth() * _ix + _p._itemspace * _ix + &#x27;px&#x27; } );
                        _sp.show();
                });
                $( _p._slider ).trigger( &#x27;beforemove&#x27;, [_oldpointer, _newpointer] );

                $.each( _concat, function(_ix, _item){
                    _item.data(&#x27;TMP_LEFT&#x27;, _item.prop(&#x27;offsetLeft&#x27;) );
                });

                UXC.log( &#x27;zzzzzzzzzz&#x27;, _begin, this._itemspace, this._model.moveDirection() );
                _p._model.interval( easyEffect( function( _step, _done ){
                    //UXC.log( _step );
                    $( _concat ).each(function( _ix, _item ){
                        _item.css( {&#x27;left&#x27;: _item.data(&#x27;TMP_LEFT&#x27;) +  (_isPlus? _step : -_step ) + &#x27;px&#x27; } );
                    });

                    if( _done ){
                        $( _opage ).each( function( _ix, _item ){ _item.hide(); } );
                        $( _p._slider ).trigger( &#x27;movedone&#x27;, [_oldpointer, _newpointer] );
                        _p._model.pointer( _newpointer );
                        _p.setPagePosition();
                    }

                   }, this._model.width(), 0, this._model.durationms(), this._model.stepms() )
               );
            }

        , setPagePosition:
            function( _ix ){
                UXC.log( &#x27;view setPagePosition&#x27;, new Date().getTime() );
                typeof _ix == &#x27;undefined&#x27; &amp;&amp; ( _ix = this._model.pointer() );
                this._model.subitems().hide();
                var _page = this._model.page( _ix );
                for( var i = 0, j = _page.length; i &lt; j; i++ ){
                    _page[i]
                        .css( { &#x27;left&#x27;: i * this._model.itemwidth() + i * this._itemspace  + &#x27;px&#x27; } )
                        .show()
                        ;
                }
                UXC.log( _page.length );
            }
    };

    function VerticalView( _model, _slider ){
        this._model = _model;
        this._slider = _slider;
        this._itemspace = 0;
        this._init();
    }

    VerticalView.prototype = {
        _init:
            function() {
                this.setPagePosition( this._model.pointer() );
                return this;
            }

        , move:
            function( _backwrad ){
                var _p = this;
                return this;
            }

        , moveTo:
            function( _newpointer ){
                var _p = this;
                return this;
            }

        , _setNewPagePosition:
            function( _opage, _npage, _oldpointer, _newpointer ){
                var _p = this, _begin, _concat = _opage.concat( _npage ), _isPlus;
                return this;
              }

        , setPagePosition:
            function( _ix ){
                var _p = this;
                UXC.log( &#x27;view setPagePosition&#x27;, new Date().getTime() );
                return this;
            }

    };
    /** 
     * 页面加载后, 自动初始化符合 Slider 规则的 Slider
     */
    $(document).ready(function(){
        if( !Slider.autoInit ) return;
        Slider.init( document.body );
    });

}(jQuery));

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
