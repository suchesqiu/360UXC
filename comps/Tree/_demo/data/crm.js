$(document).ready(function(){window.ZINDEX_COUNT=window.ZINDEX_COUNT||50001;UXC.Tree.dataFilter=function(i){var h={};if(i){if(i.root.length>2){i.root.shift();h.root=i.root}h.data={};for(var g in i.data){h.data[g]=[];for(var j=0,f=i.data[g].length;j<f;j++){if(i.data[g][j].length<3){continue}i.data[g][j].shift();h.data[g].push(i.data[g][j])}}}return h};$(document).delegate("div.tree_container","click",function(b){b.stopPropagation()});$(document).on("click",function(){$("div.dpt-select-active").trigger("click")});$(document).delegate("div.dpt-select","click",function(h){h.stopPropagation();var i=$(this),l=$(i.attr("treenode"));var j=l.data("TreeIns");if(!i.hasClass("dpt-select-active")){$("div.dpt-select-active").trigger("click")}if(!j){var n=window[i.attr("treedata")];var k=new UXC.Tree(l,n);k.on("click",function(){var c=$(this),a=c.attr("dataid"),b=c.attr("dataname");i.find("> span.label").html(b);i.find("> input[type=hidden]").val(a);i.trigger("click")});k.on("RenderLabel",function(a){var b=$(this);b.html(printf('<a href="javascript:" dataid="{0}">{1}</a>',a[0],a[1]))});k.init();k.open();var m=i.find("> input[type=hidden]").val();m&&k.open(m)}l.css({"z-index":ZINDEX_COUNT++});if(l.css("display")!="none"){i.removeClass("dpt-select-active");l.hide()}else{l.show();i.addClass("dpt-select-active");l.css({top:i.prop("offsetHeight")-2+"px",left:"-1px"})}})});