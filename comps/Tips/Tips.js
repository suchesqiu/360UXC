(function(a){!window.UXC&&(window.UXC={log:function(){}});window.ZINDEX_COUNT=window.ZINDEX_COUNT||50001;window.Tips=UXC.Tips=b;function b(g){g=a(g);if(!(g&&g.length)){return this}if(g.length>1){return b.init(g)}this._model=new d(g);this._view=new c(this._model);this._init()}b.init=function(g){if(!g){return}g=a(g);if(!g.length){return}var h=[];g.each(function(){var i=a(this);if(i.data("initedTips")){return}h.push(new b(i))});return h};b.hide=function(){a("body > div.UTips").hide()};b.autoInit=true;b.tpl=null;b.offset={bottom:{x:15,y:15},left:{x:-28,y:5},top:{x:-2,y:-22}};b.minWidth=200;b.maxWidth=400;b.titleToTipsdata=function(g){g=a(g);if(!UXC.Tips.autoInit||(typeof window.event=="object"&&document.attachEvent)){g.each(function(){a(this).attr("tipsData",a(this).attr("title")).removeAttr("title")})}};b.prototype={_init:function(){var g=this;this._model.selector().data("tipIns",g);this._model.selector().on("mouseenter",e);return this},show:function(g){this._view.show(g)},hide:function(){this._view.hide()},selector:function(){return this._model.selector()},layout:function(g){return this._view.layout(g)},data:function(){return this._model.data()}};function d(g){this.tpl=f;this._selector=g;this._data;this._init()}d.prototype={_init:function(){this.update();return this},data:function(g){g&&this.update();return this._data},update:function(){if(!(this._selector.attr("title")||this._selector.attr("tipsData"))){return}this._data=a.trim(this._selector.attr("title")||this._selector.attr("tipsData")).replace(/(?:\r\n|\n\r|\r|\n)/g,"<br />");this._selector.removeAttr("title").removeAttr("tipsData");if(this._selector.data("initedTips")){return}this._selector.data("initedTips",true)},selector:function(){return this._selector}};function c(g){this._model=g;this._layout;this._init()}c.prototype={_init:function(){return this},show:function(p){var q=p.pageX,o=p.pageY;q+=UXC.Tips.offset.bottom.x;o+=UXC.Tips.offset.bottom.y;var l=a(document).scrollTop(),k=a(document).scrollLeft();var s=a(window).width(),u=a(window).height();var r=this.layout().width(),m=this.layout().height();var h=k+s-r,j=k;var g=l+u-m,i=l;var t=false,n=false;q>h&&(q=q-r+UXC.Tips.offset.left.x,o+=UXC.Tips.offset.left.y,t=true);q<j&&(q=j);o>g&&(o=o-m+UXC.Tips.offset.top.y,q+=UXC.Tips.offset.top.x,n=true);o<i&&(o=i);t&&n&&(o-=5);this.layout().css({left:q+"px",top:o+"px"});this.layout().show()},hide:function(){this.layout().hide()},layout:function(i){if(!this._layout){this._layout=a("#UXCTipsLayout");if(!(this._layout&&this._layout.length)){this._layout=a(UXC.Tips.tpl||this._model.tpl);this._layout.attr("id","UXCTipsLayout").css("position","absolute");this._layout.appendTo(document.body)}}if(i){var g=this._model.data(i);this._layout.html(g).css({width:"auto",left:"-9999px",top:"-9999px",display:"block"});var j=this._layout.width(),h=this._layout.height();j<UXC.Tips.minWidth&&this._layout.css("width",UXC.Tips.minWidth+"px");j>UXC.Tips.maxWidth&&this._layout.css("width",UXC.Tips.maxWidth+"px")}return this._layout}};a(document).ready(function(g){setTimeout(function(){if(!UXC.Tips.autoInit){return}b.titleToTipsdata(a("[title]"));a(document).delegate("*","mouseover",function(h){var i=a(this);if(i.data("initedTips")){return}if(!(i.attr("title")||i.attr("tipsData"))){return}UXC.Tips.init(i);e.call(this,h)})},10)});function e(g){var k=a(this),j=k.data("tipIns");j.layout(1).css("z-index",ZINDEX_COUNT++);if(!j.data()){return}j.show(g);a(document).on("mousemove",i);k.on("mouseleave",h);function i(l){if(!j.layout().is(":visible")){a(document).unbind("mousemove",i);a(k).unbind("mouseleave",h);return}j.show(l)}function h(l){a(document).unbind("mousemove",i);a(k).unbind("mouseleave",h);j.hide()}}var f='<div class="UTips"></div>'}(jQuery));