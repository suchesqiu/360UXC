<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>../../uxc/comps/Tab/Tab.js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/UXC.Calendar.html">UXC.Calendar</a></li>
            
                <li><a href="../classes/UXC.CustomEvent.html">UXC.CustomEvent</a></li>
            
                <li><a href="../classes/UXC.Panel.html">UXC.Panel</a></li>
            
                <li><a href="../classes/UXC.Toggle.html">UXC.Toggle</a></li>
            
                <li><a href="../classes/UXC.Valid.html">UXC.Valid</a></li>
            
                <li><a href="../classes/window.UXC.html">window.UXC</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: ../../uxc/comps/Tab/Tab.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * Created with JetBrains WebStorm.
 * User: rekey
 * Date: 13-5-29
 * Time: 上午11:03
 * To change this template use File | Settings | File Templates.
 */
;
(function($) {
    var mix = $.extend;
    /**
     * UXC jQuery 组件库 自定义事件类&lt;br /&gt;
     * @namespace UXC
     * @class CustomEvent
     * @requires jQuery
     * @example $.extend(obj,new UXC.CustomEvent());
     *
     * @author Rekey &lt;rekey@me.com&gt; | {@link http://uxc.360.cn|360 UXC-FE Team}
     * @date 2013-05-29
     */
    var CustomEvent = function(obj) {
        this._customEvent = $(obj || {
            __id: +new Date
        });
        return this;
    };
    mix(CustomEvent.prototype, {
        /**
        * 触发自定义事件
        * @namespace CustomEvent
        * @method   fire
        * @param    {String}    type        自定义事件类型
        * @param    {bool}      data        自定义事件传递的数据
        **/
        fire: function(type, data) {
            return this._customEvent.trigger(type, data);
        },
        /**
        * 取消事件绑定
        * @namespace CustomEvent
        * @method   off
        * @param    {String}    type        自定义事件类型
        * @param    {Function}      fn      事件回调
        **/
        off: function(type, fn) {
            return this._customEvent.off(type, fn);
        },
        /**
        * 事件绑定
        * @namespace CustomEvent
        * @method   on
        * @param    {String}    type        自定义事件类型
        * @param    {Function}      fn      事件回调
        **/
        on: function(type, fn) {
            return this._customEvent.on(type, fn);
        }
    });
    UXC.CustomEvent = CustomEvent;

    /**
     * UXC jQuery 组件库 自定义事件类&lt;br /&gt;
     * @namespace UXC
     * @class Toggle
     * @requires jQuery
     * @example new Toggle(3,{loop:true});
     *
     * @author Rekey &lt;rekey@me.com&gt; | {@link http://uxc.360.cn|360 UXC-FE Team}
     * @date 2013-05-29
     */
    var Toggle = function(total, options) {
        mix(this, {
            total: total,
            current: null,
            old: null,
            loop: options[&#x27;loop&#x27;]
        });
        this._initEvent();
    };
    mix(Toggle.prototype, {
        /**
        * 内部方法,初始化自定义事件
        * @namespace UXC.Toggle
        * @method   _initEvent
        **/
        _initEvent: function() {
            mix(this, new CustomEvent(this));
        },
        /**
        * 切换焦点,将触发beforeToggle和afterToggle的自定义事件,分别对应切换前和切换后的事件
          如果当前焦点是序列里的第一个或者最后一个,还将触发first或者end事件 
        * @namespace UXC.Toggle
        * @method   toggle
        * @current    {Number}    type        焦点值
        **/
        toggle: function(current) {
            var _me = this;

            _me.fire(&#x27;beforeToggle&#x27;, {
                type: &#x27;beforeToggle&#x27;,
                total: _me.total,
                old: _me.old,
                current: _me.current
            });

            _me.old = _me.current;
            _me.current = current;

            _me.fire(&#x27;afterToggle&#x27;, {
                type: &#x27;afterToggle&#x27;,
                total: _me.total,
                old: _me.old,
                current: _me.current
            });
            if (_me.current == 0) {
                _me.fire(&#x27;first&#x27;, {
                    type: &#x27;first&#x27;,
                    total: _me.total,
                    old: _me.old,
                    current: _me.current
                });
            }
            if (_me.current == _me.total - 1) {
                _me.fire(&#x27;end&#x27;, {
                    type: &#x27;end&#x27;,
                    total: _me.total,
                    old: _me.old,
                    current: _me.current
                });
            }
        },
        /**
        * 切换到下一个焦点,内部调用toggle方法
        * @namespace UXC.Toggle
        * @method   next
        **/
        next: function() {
            if (this.current == this.total - 1) {
                if (this.loop) {
                    this.toggle(0);
                }
            } else {
                this.toggle(this.current - -1);
            }
        },
        /**
        * 切换到上一个焦点,内部调用toggle方法
        * @namespace UXC.Toggle
        * @method   prev
        **/
        prev: function() {
            if (this.current == 0) {
                if (this.loop) {
                    this.toggle(this.total - 1);
                }
            } else {
                this.toggle(this.current - 1);
            }
        },
        /**
        * 获取当前焦点
        * @namespace UXC.Toggle
        * @method   getCurrent
        * @return {Number}
        **/
        getCurrent: function() {
            return this.current;
        },
        /**
        * 获取前一个焦点
        * @namespace UXC.Toggle
        * @method   getOldCurrent
        * @return {Number}
        **/
        getOldCurrent: function() {
            return this.old;
        },
        /**
        * 设置焦点,但不触发事件
        * @namespace UXC.Toggle
        * @method   getOldCurrent
        * @param {Number} current 焦点值
        **/
        setCurrent: function(current) {
            this.current = current;
        },
        /**
        * 设置前一个焦点,但不触发事件
        * @namespace UXC.Toggle
        * @method   getOldCurrent
        * @param {Number} current 焦点值
        **/
        setOldCurrent: function(current) {
            this.old = current;
        }
    });
    Toggle.tab = function(options) {
        var opts = mix({
            triggers: null,
            contents: null,
            loop: null,
            current: null,
            total: null,
            currentCls: &#x27;on&#x27;
        }, options);
        var TG = new Toggle(opts.total || opts.contents.length, opts);
        TG.on(&#x27;beforeToggle&#x27;, function(e, data) {
            if (data.current !== null) {
                opts[&#x27;triggers&#x27;].eq(data.current).removeClass(opts[&#x27;currentCls&#x27;]);
                opts[&#x27;contents&#x27;].eq(data.current).hide();
            }
        });
        TG.on(&#x27;afterToggle&#x27;, function(e, data) {
            opts[&#x27;triggers&#x27;].eq(data.current).addClass(opts[&#x27;currentCls&#x27;]);
            opts[&#x27;contents&#x27;].eq(data.current).show();
        });
        if (opts[&#x27;current&#x27;] !== null) {
            TG.toggle(opts[&#x27;current&#x27;]);
        }
        return TG;
    };
    UXC.Toggle = Toggle;
})(jQuery);

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
