<!doctype html>
<html>
<head>
<meta charset=utf-8 />
<title>suches template</title>
<style type='text/css'>
    body{ width: 680px; margin: 20px auto; }
    .cclear{zoom:1;}
    .cclear:after{content:".";display:block;visibility:hidden;height:0;clear:both;}

    .error{ color: red; }
    input.error, select.error, textarea.error{ 
        background-color: #fce1e1;
        border: 1px solid #da9797;
        box-shadow: 0 none;
    }
    input[type=text], input[type=password]{ width: 200px; }

    dl.def > dd{
        margin: 10px 0;
    }

    dl.def > dd > button {
    }

</style>
<link href='../../../comps/Panel/res/default/style.css' rel='stylesheet' />
<script src="../../../lib.js"></script>
<script> UXC.debug = true; UXC.use( 'Panel' ); </script>
<script>
    $(document).ready( function(_evt){
        var dom_dialog = null;
        $('button.dom_dialog').on( 'click', function( _evt ){
            /**
             * 注意, 如果是从DOM读取模板的话, 
             * 绑定事件需要特别注意, 需要为 Dialog instance 做一个全局判断
             * 否则会重复绑定事件
             */
            var dialog = Dialog( $('div.dom_dialog') ); 

            if( !dom_dialog ){
                dialog.on( 'confirm', function( _evt, _dialog ){
                    UXC.log( 'dom confirm' );
                });

                dialog.on( 'cancel', function( _evt, _dialog ){
                    UXC.log( 'dom cancel' );
                });

                dialog.on( 'close', function( _evt, _dialog ){
                    UXC.log( 'dom close' );
                    _dialog.hide();
                    return false;
                });
                dom_dialog = dialog;
            }

            dialog.show(); //让dialog显示在 this 的上方或下方
        });

        $('button.string_dialog').on( 'click', function( _evt ){
            var dialog = Dialog( str_dialog_content ); 
                dialog.show();

                dialog.on( 'confirm', function( _evt, _dialog ){
                    UXC.log( 'string confirm' );
                });

                dialog.on( 'cancel', function( _evt, _dialog ){
                    UXC.log( 'string cancel' );
                });

                dialog.on( 'close', function( _evt, _dialog ){
                    UXC.log( 'string close' );
                });
        });

        $('button.string_dialog_with_src').on( 'click', function( _evt ){
            var dialog = Dialog( str_dialog_content, 'string_dialog_with_src dialog' ); 
                dialog.show();

                dialog.on( 'confirm', function( _evt, _dialog ){
                    UXC.log( 'string_dialog_with_src confirm' );
                });

                dialog.on( 'cancel', function( _evt, _dialog ){
                    UXC.log( 'string_dialog_with_src cancel' );
                });

                dialog.on( 'close', function( _evt, _dialog ){ UXC.log( 'string_dialog_with_src close' ); }); }); 

    });


    var str_dialog_content =
    [
    '<div class="UPanel" style="display:none; width: 400px;" >\n'
    ,'    <div class="UPContent">\n'
    ,'        <div class="hd">string panel</div>\n'
    ,'        <div class="bd">\n'
    ,'            <h2>test content</h2>\n'
    ,'            <div style="text-align:center" class="UButton">\n'
    ,'                <button type="button" eventtype="confirm">确定</button>\n'
    ,'                <button type="button" eventtype="cancel">取消</button>\n'
    ,'            </div>\n'
    ,'        </div>\n'
    ,'        <div class="ft">test footer</div>\n'
    ,'        <span class="close" eventtype="close"></span>\n'
    ,'    </div><!--end UPContent-->\n'
    ,'</div>\n'
    ].join('');
</script>

</head>    
<body>

    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br />
    <dl class="def">
        <dt>UXC.Panel 示例</dt>
        <dd>
            <button type="button" class="dom_dialog">dom panel</button>
            <button type="button" class="string_dialog">string panel</button>
            <button type="button" class="string_dialog_with_src">string panel with source</button>
        </dd>

    </dl>


<div class="UPanel dom_dialog" style="display:none; width: 400px;" >
    <div class="UPContent">
        <div class="hd">dom panel</div>
        <div class="bd">
            <h2>test content</h2>
            <div style="text-align:center" class="UButton">
                <button type="button" eventtype="confirm">确定</button>
                <button type="button" eventtype="cancel">取消</button>
            </div>
        </div>
        <div class="ft">test footer</div>
        <span class="close" eventtype="close"></span>
    </div><!--end UPContent-->
</div>
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
    <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

</body>
</html>

