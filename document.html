<!doctype html>
<html>
<head>
<meta charset=utf-8 />
<title>UXC Project - JQuery Components Library - 项目说明文档 - suches</title>
<style>
    body{
        margin: 20px 20px;
        font: 14px/1.5 Tahoma,Helvetica,Arial,'宋体',sans-serif!important;
    }

    .cclear{zoom:1;}
    .cclear:after{content:".";display:block;visibility:hidden;height:0;clear:both;}

    .xwrap{
    }

    #treeBox{
        position: fixed;
        top: 0px;
    }

    .xleft{
        overflow: auto;
        float: left;
        margin-right: 40px;
        min-width: 240px;
        width: auto!important;
        width: 240px;
    }

    .xright{
        text-align: left;
        width: auto;
        margin-left: 240px;
    }

    dt {
        font-weight: bold;
        margin: 10px 0;
    }

    dd {
        word-wrap: break-word;
        word-break: break-all;
    }

    xmp, code {
        display: block;
    }

    code{
        margin: 5px 5px 5px 40px;
    }

    ol > li{
        margin: 5px auto;
    }

</style>
<link href='comps/Panel/res/default/style.css' rel='stylesheet' />
<link href='comps/Tips/res/default/style.css' rel='stylesheet' />
<link href='comps/Tree/res/default/style.css' rel='stylesheet' />
<script src="./lib.js"></script>
<script>
    UXC.debug = true;
    UXC.use( 'Tree' );

    $(document).ready(function(){
        var treeData = {
            data: 
                {
                    "1":[
                        ["111","项目愿景"]
                        ,["222","文档和资源链接"]
                        ,["333","如何获取最新发布版本"]
                        ,["444","如何使用"]
                        ,["555","组件库结构说明"]
                        ,["666","面向开发者的结构说明"]
                        ,["351","编码规范和注释规范"]
                        ,["888","如何协作开发"]
                        ,["999","如何发布资源"]
                        ,["777","开发需求"]
                        ,["151","沟通讨论"]
                        ,["251","开发者名单"]
                    ]
                }
		    , root: ["1",'UXC Project 项目说明文档']
		};
        var _tree = new UXC.Tree( $('#treeBox'), treeData );
            _tree.on('change', function( _evt ){
                var _p = $(this);
                UXC.log( 'tree click:', _p.html(), _p.attr('dataid'), _p.attr('dataname') );
            });
            _tree.on('RenderLabel', function( _data ){
                var _p = $(this);
                _p.html( printf('<a href="#part_{0}">{1}</a>', _data[0], _data[1] ) );
            });
            _tree.init();
            _tree.open();
    });
</script>
</head>    
<body>

    <div class='xwrap cclear'>
        <div class='xleft'>
            <div id='treeBox'></div>
        </div>

        <div class='xright'>
            <dl>
                <dt><a name='part_1'><h1>UXC Project - JQuery Components Library</h1></a></dt>
                <dd>
                    <dl>
                        <dt><h2><a name='part_111'></a>项目愿景</h2></dt>
                        <dd>
                            UXC Project 的目标是建立一套 <b>易于使用、功能齐全、编码规范、接口规范</b> 的 jquery 组件库
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_222'></a>文档和资源链接</h2></dt>
                        <dd>
                            <p><label>项目主页(git):</label> <a href="https://github.com/suchesqiu/360UXC" target="_blank">https://github.com/suchesqiu/360UXC</a></p>
                            <p><label>演示网站(公网):</label> <a href="http://uxc.btbtd.org/" target="_blank">http://uxc.btbtd.org/</a></p>
                            <p><label>项目文档(公网):</label> <a href="http://uxc.btbtd.org/document.html" target="_blank">http://uxc.btbtd.org/document.html</a></p>
                            <p><label>API文档(公网):</label> <a href="http://uxc.btbtd.org/uxc_docs/classes/window.UXC.html" target="_blank">http://uxc.btbtd.org/uxc_docs/classes/window.UXC.html</a></p>
                            <p><label>API文档(本地):</label> <a href="uxc_docs/classes/window.UXC.html" target="_blank">uxc_docs/classes/window.UXC.html</a></p>
                            <p><label>演示网站(内网):</label> <a href="http://360.75team.com/~qiushaowei/uxcjs/" target="_blank">http://360.75team.com/~qiushaowei/uxcjs/</a></p>
                            <p><label>项目文档(内网):</label> <a href="http://360.75team.com/~qiushaowei/uxcjs/document.html" target="_blank">http://360.75team.com/~qiushaowei/uxcjs/document.html</a></p>
                            <p><label>API文档(内网):</label> <a href="http://360.75team.com/~qiushaowei/uxcjs/uxc_docs/classes/window.UXC.html" target="_blank">http://360.75team.com/~qiushaowei/uxcjs/uxc_docs/classes/window.UXC.html</a></p>
                            <p><label>SVN地址(内网):</label> <a href="https://portal.src.corp.qihoo.net/svn/AppDevFe/trunk/jquery" target="_blank">https://portal.src.corp.qihoo.net/svn/AppDevFe/trunk/jquery</a> </p>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_333'></a>如何获取最新发布版本</h2></dt>
                        <dd>
                            <ol>
                                <li>
                                    <label>使用 git 客户端获取:</label>
                                    <code>git clone https://github.com/suchesqiu/360UXC.git</code>
                                    <b>如果发现 https clone 比较慢的话, 可以尝试一下 http</b>
                                    <code>git clone http://github.com/suchesqiu/360UXC.git</code>
                                </li>
                                <li>
                                    <label>下载最新 zip 包:</label>
                                    <code><a href="https://github.com/suchesqiu/360UXC/archive/master.zip" target="_blank">https://github.com/suchesqiu/360UXC/archive/master.zip</a></code>
                                </li>
                                <!--
                                <li>
                                    <label>使用 svn 客户端获取(<b>内网</b>):</label>
                                    <code>svn co https://portal.src.corp.qihoo.net/svn/AppDevFe/trunk/jquery</code>
                                </li>
                                -->
                            </ol>
                        </dd>
                    </dl>
                    
                    <dl>
                        <dt><h2><a name='part_444'></a>如何使用</h2></dt>
                        <dd>
                            <ol>
                                <li>
                                    <dl>
                                        <dt>加载 jquery 1.9.1 && UXC 资源管理器</dt>
                                        <dd><xmp>
<script src="./lib.js"></script>
<script>
    //声明组件库所在路径, 这个属性组件库加载时会自动识别， 如无特殊需求不需要显式声明
    //UXC.PATH = '/uxcjs/';                   

    UXC.debug = true;                       //是否显示调试信息
    UXC.use( 'Calendar, Valid, Panel' );    //导入常用组件

    $(document).ready(function(){
        //在这里可以开始使用导入的组件
    });
</script>
                                        </xmp>
                                        </dd>
                                    </dl>
                                </li>
                                <li>
                                    <dl>
                                        <dt>UXC.use 资源管理器的使用</dt>
                                        <dd>
                                            <p><label>本地演示:</label> <a href="_demo" target="_blank">_demo</a></p>
                                            <p><label>公网演示:</label> <a href="http://uxc.btbtd.org/_demo" target="_blank">http://uxc.btbtd.org/_demo</a></p>
                                            <p><label>内网演示:</label> <a href="http://360.75team.com/~qiushaowei/uxcjs/_demo" target="_blank">http://360.75team.com/~qiushaowei/uxcjs/_demo</a></p>
                                        </dd>
                                    </dl>
                                </li>
                                <li>
                                    <dl>
                                        <dt>组件的使用请查看 API 文档</dt>
                                        <dd>
                                            <p><label>本地文档:</label> <a href="uxc_docs/classes/window.UXC.html" target="_blank">uxc_docs/classes/window.UXC.html</a></p>
                                            <p><label>公网文档:</label> <a href="http://uxc.btbtd.org/uxc_docs/classes/window.UXC.html" target="_blank">http://uxc.btbtd.org/uxc_docs/classes/window.UXC.html</a></p>
                                            <p><label>内网文档:</label> <a href="http://360.75team.com/~qiushaowei/uxcjs/uxc_docs/classes/window.UXC.html" target="_blank">http://360.75team.com/~qiushaowei/uxcjs/uxc_docs/classes/window.UXC.html</a></p>
                                        </dd>
                                    </dl>
                                </li>

                            </ol>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_555'></a>组件库结构说明</h2></dt>
                        <dd>
                            <pre>
library root                        //组件库所在目录
├── document.html                   //本说明文档
├── lib.js                          //lib.js = jquery.js + common.js + UXC.js
├── jquery.js                       //jquery 1.9.1
├── common.js                       //一些通用函数，组件中用到的函数如果出现在多个地方，可以考虑转移到这里
├── UXC.js                          //UXC 资源控制器
├── _demo                           //UXC 资源控制器 使用例子
├── uxc_docs                        //UXC 组件库 API 文档
├── comps                           //comps 目录存放由UXC Project开发人员开发的jquery组件
│   ├── Calendar                    //日历组件
│   ├── Form                        //表单常用功能组件
│   ├── LunarCalendar               //农历日历组件
│   ├── Panel                       //弹框组件( UXC.Panel, UXC.alert, UXC.confirm, UXC.Dialog, UXC.Dialog.alert, UXC.Dialog.config );
│   ├── Tab                         //Tab组件
│   ├── Test                        //测试组件, 新建组件时，直接拷贝这个目录变更一个名字
│   ├── Tips                        //Tips组件
│   ├── Tree                        //树菜单组件
│   └── Valid                       //表单验证组件
├── plugins                         //这个目录存放一些常用的第三方脚本
│   ├── base64.js
│   ├── jquery.form.js
│   ├── json2.js
│   ├── md5.js
│   ├── rate
│   └── swfobject.js
├── widgets                         //这个目录存放一些HTML小部件
│   └── IframeUpload
└── tools                           //这个目录存放一些有用的工具
    ├── generate_yuidoc_for_uxc.sh  //生成API文档shell
    ├── node_remove_View_Model.js   //nodejs API 文档过滤脚本
    └── php                         //PHP 工具，列目录用

                            </pre> 
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_666'></a>面向开发者的结构说明</h2></dt>
                        <dd>
                        <p>源码托管使用 git, 项目主页: <a target="_blank" href="https://github.com/suchesqiu/360UXC">https://github.com/suchesqiu/360UXC</a></p>
                            <h3>目前 git 上面有三个主要分支:</h3>
                            <ol>
                                <li>master 分支，这是主分支，发布新组件都应该提交到 master分支, 
                                    <br /><a target="_blank" href="https://github.com/suchesqiu/360UXC">https://github.com/suchesqiu/360UXC</a></li>
                                <li>master_compressed 分支， 这个分支与master分支的内容保持一致，唯一不同之处就是这个分支的所有源码都是经过压缩的,
                                    <br /><a target="_blank" href="https://github.com/suchesqiu/360UXC/tree/master_compressed">https://github.com/suchesqiu/360UXC/tree/master_compressed</a></li>
                                <li>dev 分支， 这个分支是 qiushaowei的开发分支，dev 分支开发完的组件都会提交到 master 分支
                                    <br /><a target="_blank" href="https://github.com/suchesqiu/360UXC/tree/dev">https://github.com/suchesqiu/360UXC/tree/dev</a></li>

                            </ol>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_351'></a>编码规范和注释规范</h2></dt>
                        <dd>
                            <ol>
                                <li>
                                    <label>javascript 编码规范 以 dojo 为准:</label> 
                                    <p><a target="_blank" href="http://dojotoolkit.org/reference-guide/1.9/developer/styleguide.html">http://dojotoolkit.org/reference-guide/1.9/developer/styleguide.html</a></p>
                                </li>
                                <li>
                                    <label>javascript 注释规范以 YUIDoc 为准:</label> 
                                    <p><a target="_blank" href="http://yui.github.io/yuidoc/syntax/index.html">http://yui.github.io/yuidoc/syntax/index.html</a></p>
                                    <p><b>写注释时请务必按照YUIDoc规范书写, API文档是从注释里直接生成的~</b></p>
                                </li>
                            </ol>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_888'></a>如何协作开发</h2></dt>
                        <dd>
                            <ol>
                                <li>
                                    你需要注册一个 github 的帐户, 到这里注册: <a target="_blank" href="https://github.com/">https://github.com/</a>
                                </li>
                                <li>
                                    下载对应操作系统的 git 客户端
                                    <ol>
                                        <li>
                                        <h3>windows 系统</h3>
                                        <p>推荐使用: TortoiseGit <a href="https://code.google.com/p/tortoisegit/">https://code.google.com/p/tortoisegit/</a> </p>
                                        <p>或者到 github 官网下载官方客户端</p>
                                        </li>
                                        <li>
                                        <h3>其他操作系统</h3>
                                        <p>不用windows的同学自己会知道怎么弄的~</p>
                                        </li>
                                    </ol>
                                </li>
                                <li>
                                    <p>从开发人员列表中找到 <a href="#qiushaowei">qiushaowei</a> 的联系方式~ 告知你的github用户名</p>
                                    <p>然后 <a href="#qiushaowei">qiushaowei</a> 会把你加入到开发人员列表中</p>
                                    <p>在没有加入到开发人员名单之前, 你可以 clone 项目, 但是没有提交更改的权限</p>
                                </li>
                                <li>
                                    <dl>
                                        <dt>建立属于你自己的开发分支进行开发</dt>
                                        <dd>
                                            <ol>
                                                <li>
                                                    <label>命令行方式建立分支:</label> 
                                                    <br /><a target="_blank" href="https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches">https://github.com/Kunena/Kunena-Forum/wiki/Create-a-new-branch-with-git-and-manage-branches</a>
                                                </li>
                                                <li>
                                                    <label>TortoiseGit建立分支:</label> 
                                                    <br /><a target="_blank" href="http://joelabrahamsson.com/remote-branches-with-tortoisegit/">http://joelabrahamsson.com/remote-branches-with-tortoisegit/</a>
                                                </li>
                                            </ol>
                                            <p>
                                                <b>注意:</b> 你建立的分支应该是 master 的一个 copy, 不是 dev 的 copy
                                            </p>
                                        </dd>
                                    </dl>
                                </li>
                                <li>
                                    <h3>关于开发分类: 组件(comps), jquery 插件(plugins), 小部件(widgets)</h3>
                                    <ol>
                                        <li>
                                            <dl>
                                                <dt>如何开发组件(comps)</dt>
                                                <dd><pre>
什么是组件?
    组件在UXC项目里是指那些需要 使用 new 关键字初始化的 应用.

组件应该存放在那个目录?
    目前组件的存放目录规划位于 libpath/comps 目录

组件的基础结构?
    每个组件都有自己的独立文件夹, 并且脚本名称大小写与文件夹保持一致

开始开发组件
    请查看 libpath/comps/Test 目录, 这是个示例组件, 
    开发组件时可以直接copy Test组件然后改一下文件和内容命名
    Library/comsp/Test          示例组件
    ├── _demo                   效果演示
    │   ├── index.php           列目录资源的PHP
    │   └── simple_demo.html    演示默认例子
    ├── index.php               列目录资源的PHP
    ├── res                     资源目录, 这个目录规划是可以各种themes, 每个 themes有自己对象的目录
    │   └── default             默认 themes
    │       ├── style.css
    │       └── style.html
    └── Test.js                 组件的js脚本, 命名应该与组件目录大小写保持一致

</pre>
                                                </dd>
                                            </dl>
                                        </li>
                                        <li>
                                            <dl>
                                                <dt>如何开发jquery插件(plugins)</dt>
                                                <dd><pre>
什么是jquery插件?
    jquery插件在UXC项目里是指那些 扩展 jquery 对象的应用

jquery插件应该存放在那个目录?
    目前jquery插件的存放目录规划位于 libpath/plugins

jquery插件的基础结构? 
    jquery 插件可以是独立的一个脚本, 或者是带有自己的文件夹
    
    example:
        libpath/plugins/json2.js
        libpath/plugins/rate/rate.js

jquery插件的开发规范请见官方文档:
    <a target="_blank" href="http://learn.jquery.com/plugins/basic-plugin-creation/">http://learn.jquery.com/plugins/basic-plugin-creation/</a>
</pre>
                                                </dd>
                                            </dl>
                                        </li>
                                        <li>
                                            <dl>
                                                <dt>如何开发小部件(widgets)</dt>
                                                <dd><pre>
什么是小部件?
    小部件在UXC项目里是指那些不是 jquery组件 也不是 jquery插件的应用
    比如目前小部件里的 IframeUpload

    BaiduEditor, FCKEditor, swfupload 也可以归类到 小部件里

    那到底什么是小部件? 
    简单的说法就是用 javascript写的小工具, 但不限于 javascript小工具~
    也可以是其他语言写的小工具~ 比如 as, java~

小部件应该存放在那个目录?
    目前小部件的存放目录规划位于 libpath/widgets
</pre>
                                                </dd>
                                            </dl>
                                        </li>
                                    </ol>
                                </li>
                            </ol>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_999'></a>如何发布资源</h2></dt>
                        <dd>
                            <h3>当你写了一个组件想发布的时候应该怎么办?</h3>
                            <ol>
                                <li>
                                    为了保证项目的质量, 要发布组件的时候请对组件进行一次全面的review, 测试一下各种应用场景看看有没有不可预知的bug~
                                    <br />通常测试的场景越多总会发现各种奇怪的bug~
                                </li>
                                <li>
                                    注释也是必不可少的~
                                    <br />目前 API 文档是使用 YUIDoc 从注释里生成的
                                    <br />所以<b>注释务必写详细点</b>
                                </li>
                                <li>
                                    在你自己的专属分支里生成 API 文档, 看看文档效果是否符合预期
                                    <p>生成文档需要的运行环境: nodejs, yuidocjs(nodejs plugin)</p>
                                    <ol>
                                        <li>
                                            <dl>
                                                <dt>linux 系统</dt>
                                                <dd><pre>
cd libpath/tools
sh generate_yuidoc_for_uxc.sh
                                                </pre></dd>
                                            </dl>
                                        </li>
                                        <li>
                                            <dl>
                                                <dt>windows 系统</dt>
                                                <dd><pre>
cd libpath/tools
generate_yuidoc_for_uxc.sh
                                                </pre></dd>
                                            </dl>
                                        </li>
                                        <li>
                                            生成文档的默认识别路径是 libpath/*
                                            <p>生成后的文档存放在 libpath/uxc_docs</p>
                                        </li>
                                    </ol>
                                </li>
                                <li><pre>
确保一切无误后, 把要发布的组件 copy到master分支里
    当前的开发分支不是master分支, 怎么 copy到master分支里?
    最简单的方法就是用 git clone 获取一个新的 master分支

如果你已经获取过一个 master分支, 记得先 git pull origin master 更新一下 master分支

然后在master分支里运行一下 文档生成脚本~

再次检查一下文档和代码是否正常
没有问题当然就是提交更改了~
                                </pre></li>
                            </ol>
                            <h3>注意: 开发组件的时候应该在自己的专属分支里进行, 发布的时候再单独合并到 master 主干</h3>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_777'></a>开发需求</h2></dt>
                        <dd> 
                            <ol>
                                <li>
                                    <label>开发需求:</label>
                                    <a target="_blank" href="./tools/开发需求.txt">./tools/开发需求.txt</a>
                                </li>
                                <li>
                                    <label>内网需求链接:</label> 
                                    <a target="_blank" href="http://add.corp.qihoo.net/pages/viewpage.action?pageId=8036850">http://add.corp.qihoo.net/pages/viewpage.action?pageId=8036850</a>
                                </li>
                            </ol>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_151'></a>沟通讨论</h2></dt>
                        <dd>
                            <ol>
                                <li><label>飞信群:</label> <b>81514206</b> </li>
                                <li><label>QQ群:</label> <b>67024282</b> </li>
                                <li><label>问题反馈邮箱:</label> uxc#btbtd.org</li>
                            </ol>
                        </dd>
                    </dl>

                    <dl>
                        <dt><h2><a name='part_251'></a>开发者名单</h2></dt>
                        <dd>
                            <ol>
                                <li><a name="qiushaowei"></a><label>qiushaowei:</label> 908202921(qq), 133382778(飞信), suches#btbtd.org, <a href='http://btbtd.org' target='_blank'>http://btbtd.org</a> </li>
                            </ol>
                        </dd>
                    </dl>

                </dd>
            </dl>
        </div>
    </div>

    <!--suches@btbtd.org @20130718-->    
</body>
</html>

