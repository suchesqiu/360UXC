var readFixtures=function(){return jasmine.getFixtures().proxyCallTo_("read",arguments)};var preloadFixtures=function(){jasmine.getFixtures().proxyCallTo_("preload",arguments)};var loadFixtures=function(){jasmine.getFixtures().proxyCallTo_("load",arguments)};var appendLoadFixtures=function(){jasmine.getFixtures().proxyCallTo_("appendLoad",arguments)};var setFixtures=function(a){jasmine.getFixtures().proxyCallTo_("set",arguments)};var appendSetFixtures=function(){jasmine.getFixtures().proxyCallTo_("appendSet",arguments)};var sandbox=function(a){return jasmine.getFixtures().sandbox(a)};var spyOnEvent=function(a,b){return jasmine.JQuery.events.spyOn(a,b)};var preloadStyleFixtures=function(){jasmine.getStyleFixtures().proxyCallTo_("preload",arguments)};var loadStyleFixtures=function(){jasmine.getStyleFixtures().proxyCallTo_("load",arguments)};var appendLoadStyleFixtures=function(){jasmine.getStyleFixtures().proxyCallTo_("appendLoad",arguments)};var setStyleFixtures=function(a){jasmine.getStyleFixtures().proxyCallTo_("set",arguments)};var appendSetStyleFixtures=function(a){jasmine.getStyleFixtures().proxyCallTo_("appendSet",arguments)};var loadJSONFixtures=function(){return jasmine.getJSONFixtures().proxyCallTo_("load",arguments)};var getJSONFixture=function(a){return jasmine.getJSONFixtures().proxyCallTo_("read",arguments)[a]};jasmine.spiedEventsKey=function(a,b){return[$(a).selector,b].toString()};jasmine.getFixtures=function(){return jasmine.currentFixtures_=jasmine.currentFixtures_||new jasmine.Fixtures()};jasmine.getStyleFixtures=function(){return jasmine.currentStyleFixtures_=jasmine.currentStyleFixtures_||new jasmine.StyleFixtures()};jasmine.Fixtures=function(){this.containerId="jasmine-fixtures";this.fixturesCache_={};this.fixturesPath="spec/javascripts/fixtures"};jasmine.Fixtures.prototype.set=function(a){this.cleanUp();this.createContainer_(a)};jasmine.Fixtures.prototype.appendSet=function(a){this.addToContainer_(a)};jasmine.Fixtures.prototype.preload=function(){this.read.apply(this,arguments)};jasmine.Fixtures.prototype.load=function(){this.cleanUp();this.createContainer_(this.read.apply(this,arguments))};jasmine.Fixtures.prototype.appendLoad=function(){this.addToContainer_(this.read.apply(this,arguments))};jasmine.Fixtures.prototype.read=function(){var a=[];var d=arguments;for(var c=d.length,b=0;b<c;b++){a.push(this.getFixtureHtml_(d[b]))}return a.join("")};jasmine.Fixtures.prototype.clearCache=function(){this.fixturesCache_={}};jasmine.Fixtures.prototype.cleanUp=function(){$("#"+this.containerId).remove()};jasmine.Fixtures.prototype.sandbox=function(a){var b=a||{};return $('<div id="sandbox" />').attr(b)};jasmine.Fixtures.prototype.createContainer_=function(b){var a;if(b instanceof $){a=$('<div id="'+this.containerId+'" />');a.html(b)}else{a='<div id="'+this.containerId+'">'+b+"</div>"}$("body").append(a)};jasmine.Fixtures.prototype.addToContainer_=function(b){var a=$("body").find("#"+this.containerId).append(b);if(!a.length){this.createContainer_(b)}};jasmine.Fixtures.prototype.getFixtureHtml_=function(a){if(typeof this.fixturesCache_[a]==="undefined"){this.loadFixtureIntoCache_(a)}return this.fixturesCache_[a]};jasmine.Fixtures.prototype.loadFixtureIntoCache_=function(a){var b=this.makeFixtureUrl_(a);var c=$.ajax({type:"GET",url:b+"?"+new Date().getTime(),async:false});this.fixturesCache_[a]=c.responseText};jasmine.Fixtures.prototype.makeFixtureUrl_=function(a){return this.fixturesPath.match("/$")?this.fixturesPath+a:this.fixturesPath+"/"+a};jasmine.Fixtures.prototype.proxyCallTo_=function(b,a){return this[b].apply(this,a)};jasmine.StyleFixtures=function(){this.fixturesCache_={};this.fixturesNodes_=[];this.fixturesPath="spec/javascripts/fixtures"};jasmine.StyleFixtures.prototype.set=function(a){this.cleanUp();this.createStyle_(a)};jasmine.StyleFixtures.prototype.appendSet=function(a){this.createStyle_(a)};jasmine.StyleFixtures.prototype.preload=function(){this.read_.apply(this,arguments)};jasmine.StyleFixtures.prototype.load=function(){this.cleanUp();this.createStyle_(this.read_.apply(this,arguments))};jasmine.StyleFixtures.prototype.appendLoad=function(){this.createStyle_(this.read_.apply(this,arguments))};jasmine.StyleFixtures.prototype.cleanUp=function(){while(this.fixturesNodes_.length){this.fixturesNodes_.pop().remove()}};jasmine.StyleFixtures.prototype.createStyle_=function(a){var c=$("<div></div>").html(a).text(),b=$("<style>"+c+"</style>");this.fixturesNodes_.push(b);$("head").append(b)};jasmine.StyleFixtures.prototype.clearCache=jasmine.Fixtures.prototype.clearCache;jasmine.StyleFixtures.prototype.read_=jasmine.Fixtures.prototype.read;jasmine.StyleFixtures.prototype.getFixtureHtml_=jasmine.Fixtures.prototype.getFixtureHtml_;jasmine.StyleFixtures.prototype.loadFixtureIntoCache_=jasmine.Fixtures.prototype.loadFixtureIntoCache_;jasmine.StyleFixtures.prototype.makeFixtureUrl_=jasmine.Fixtures.prototype.makeFixtureUrl_;jasmine.StyleFixtures.prototype.proxyCallTo_=jasmine.Fixtures.prototype.proxyCallTo_;jasmine.getJSONFixtures=function(){return jasmine.currentJSONFixtures_=jasmine.currentJSONFixtures_||new jasmine.JSONFixtures()};jasmine.JSONFixtures=function(){this.fixturesCache_={};this.fixturesPath="spec/javascripts/fixtures/json"};jasmine.JSONFixtures.prototype.load=function(){this.read.apply(this,arguments);return this.fixturesCache_};jasmine.JSONFixtures.prototype.read=function(){var c=arguments;for(var b=c.length,a=0;a<b;a++){this.getFixtureData_(c[a])}return this.fixturesCache_};jasmine.JSONFixtures.prototype.clearCache=function(){this.fixturesCache_={}};jasmine.JSONFixtures.prototype.getFixtureData_=function(a){this.loadFixtureIntoCache_(a);return this.fixturesCache_[a]};jasmine.JSONFixtures.prototype.loadFixtureIntoCache_=function(a){var b=this;var c=this.fixturesPath.match("/$")?this.fixturesPath+a:this.fixturesPath+"/"+a;$.ajax({async:false,cache:false,dataType:"json",url:c,success:function(d){b.fixturesCache_[a]=d},error:function(e,d,f){throw Error("JSONFixture could not be loaded: "+c+" (status: "+d+", message: "+f.message+")")}})};jasmine.JSONFixtures.prototype.proxyCallTo_=function(b,a){return this[b].apply(this,a)};jasmine.JQuery=function(){};jasmine.JQuery.browserTagCaseIndependentHtml=function(a){return $("<div/>").append(a).html()};jasmine.JQuery.elementToString=function(b){var a=$(b).get(0);if(a==undefined||a.cloneNode){return $("<div />").append($(b).clone()).html()}else{return b.toString()}};jasmine.JQuery.matchersClass={};!function(a){var b={spiedEvents:{},handlers:[]};a.events={spyOn:function(c,d){var e=function(f){b.spiedEvents[jasmine.spiedEventsKey(c,d)]=f};$(c).bind(d,e);b.handlers.push(e);return{selector:c,eventName:d,handler:e,reset:function(){delete b.spiedEvents[jasmine.spiedEventsKey(c,d)]}}},wasTriggered:function(c,d){return !!(b.spiedEvents[jasmine.spiedEventsKey(c,d)])},wasPrevented:function(c,d){return b.spiedEvents[jasmine.spiedEventsKey(c,d)].isDefaultPrevented()},cleanUp:function(){b.spiedEvents={};b.handlers=[]}}}(jasmine.JQuery);!function(){var c={toHaveClass:function(e){return this.actual.hasClass(e)},toHaveCss:function(e){for(var f in e){if(this.actual.css(f)!==e[f]){return false}}return true},toBeVisible:function(){return this.actual.is(":visible")},toBeHidden:function(){return this.actual.is(":hidden")},toBeSelected:function(){return this.actual.is(":selected")},toBeChecked:function(){return this.actual.is(":checked")},toBeEmpty:function(){return this.actual.is(":empty")},toExist:function(){return $(document).find(this.actual).length},toHaveAttr:function(f,e){return b(this.actual.attr(f),e)},toHaveProp:function(e,f){return b(this.actual.prop(e),f)},toHaveId:function(e){return this.actual.attr("id")==e},toHaveHtml:function(e){return this.actual.html()==jasmine.JQuery.browserTagCaseIndependentHtml(e)},toContainHtml:function(f){var g=this.actual.html();var e=jasmine.JQuery.browserTagCaseIndependentHtml(f);return(g.indexOf(e)>=0)},toHaveText:function(f){var e=$.trim(this.actual.text());if(f&&$.isFunction(f.test)){return f.test(e)}else{return e==f}},toHaveValue:function(e){return this.actual.val()==e},toHaveData:function(f,e){return b(this.actual.data(f),e)},toBe:function(e){return this.actual.is(e)},toContain:function(e){return this.actual.find(e).length},toBeDisabled:function(e){return this.actual.is(":disabled")},toBeFocused:function(e){return this.actual.is(":focus")},toHandle:function(k){var h=$._data(this.actual.get(0),"events");if(!h||!k||typeof k!=="string"){return false}var m=k.split(".");var g=m.shift();var l=m.slice(0).sort();var e=new RegExp("(^|\\.)"+l.join("\\.(?:.*\\.)?")+"(\\.|$)");if(h[g]&&m.length){for(var f=0;f<h[g].length;f++){var j=h[g][f].namespace;if(e.test(j)){return true}}}else{return h[g]&&h[g].length>0}},toHandleWith:function(f,h){var e=$._data(this.actual.get(0),"events")[f];for(var g=0;g<e.length;g++){if(e[g].handler==h){return true}}return false}};var b=function(f,e){if(e===undefined){return f!==undefined}return f==e};var d=function(f){var e=jasmine.Matchers.prototype[f];jasmine.JQuery.matchersClass[f]=function(){if(this.actual&&(this.actual instanceof $||jasmine.isDomNode(this.actual))){this.actual=$(this.actual);var g=c[f].apply(this,arguments);var h;if(this.actual.get&&(h=this.actual.get()[0])&&!$.isWindow(h)&&h.tagName!=="HTML"){this.actual=jasmine.JQuery.elementToString(this.actual)}return g}if(e){return e.apply(this,arguments)}return false}};for(var a in c){d(a)}}();beforeEach(function(){this.addMatchers(jasmine.JQuery.matchersClass);this.addMatchers({toHaveBeenTriggeredOn:function(a){this.message=function(){return["Expected event "+this.actual+" to have been triggered on "+a,"Expected event "+this.actual+" not to have been triggered on "+a]};return jasmine.JQuery.events.wasTriggered(a,this.actual)}});this.addMatchers({toHaveBeenTriggered:function(){var b=this.actual.eventName,a=this.actual.selector;this.message=function(){return["Expected event "+b+" to have been triggered on "+a,"Expected event "+b+" not to have been triggered on "+a]};return jasmine.JQuery.events.wasTriggered(a,b)}});this.addMatchers({toHaveBeenPreventedOn:function(a){this.message=function(){return["Expected event "+this.actual+" to have been prevented on "+a,"Expected event "+this.actual+" not to have been prevented on "+a]};return jasmine.JQuery.events.wasPrevented(a,this.actual)}});this.addMatchers({toHaveBeenPrevented:function(){var b=this.actual.eventName,a=this.actual.selector;this.message=function(){return["Expected event "+b+" to have been prevented on "+a,"Expected event "+b+" not to have been prevented on "+a]};return jasmine.JQuery.events.wasPrevented(a,b)}})});afterEach(function(){jasmine.getFixtures().cleanUp();jasmine.getStyleFixtures().cleanUp();jasmine.JQuery.events.cleanUp()});