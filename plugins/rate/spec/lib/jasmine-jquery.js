var readFixtures=function(){return jasmine.getFixtures().proxyCallTo_("read",arguments)};var preloadFixtures=function(){jasmine.getFixtures().proxyCallTo_("preload",arguments)};var loadFixtures=function(){jasmine.getFixtures().proxyCallTo_("load",arguments)};var appendLoadFixtures=function(){jasmine.getFixtures().proxyCallTo_("appendLoad",arguments)};var setFixtures=function(b){jasmine.getFixtures().proxyCallTo_("set",arguments)};var appendSetFixtures=function(){jasmine.getFixtures().proxyCallTo_("appendSet",arguments)};var sandbox=function(b){return jasmine.getFixtures().sandbox(b)};var spyOnEvent=function(d,c){return jasmine.JQuery.events.spyOn(d,c)};var preloadStyleFixtures=function(){jasmine.getStyleFixtures().proxyCallTo_("preload",arguments)};var loadStyleFixtures=function(){jasmine.getStyleFixtures().proxyCallTo_("load",arguments)};var appendLoadStyleFixtures=function(){jasmine.getStyleFixtures().proxyCallTo_("appendLoad",arguments)};var setStyleFixtures=function(b){jasmine.getStyleFixtures().proxyCallTo_("set",arguments)};var appendSetStyleFixtures=function(b){jasmine.getStyleFixtures().proxyCallTo_("appendSet",arguments)};var loadJSONFixtures=function(){return jasmine.getJSONFixtures().proxyCallTo_("load",arguments)};var getJSONFixture=function(b){return jasmine.getJSONFixtures().proxyCallTo_("read",arguments)[b]};jasmine.spiedEventsKey=function(d,c){return[$(d).selector,c].toString()};jasmine.getFixtures=function(){return jasmine.currentFixtures_=jasmine.currentFixtures_||new jasmine.Fixtures()};jasmine.getStyleFixtures=function(){return jasmine.currentStyleFixtures_=jasmine.currentStyleFixtures_||new jasmine.StyleFixtures()};jasmine.Fixtures=function(){this.containerId="jasmine-fixtures";this.fixturesCache_={};this.fixturesPath="spec/javascripts/fixtures"};jasmine.Fixtures.prototype.set=function(b){this.cleanUp();this.createContainer_(b)};jasmine.Fixtures.prototype.appendSet=function(b){this.addToContainer_(b)};jasmine.Fixtures.prototype.preload=function(){this.read.apply(this,arguments)};jasmine.Fixtures.prototype.load=function(){this.cleanUp();this.createContainer_(this.read.apply(this,arguments))};jasmine.Fixtures.prototype.appendLoad=function(){this.addToContainer_(this.read.apply(this,arguments))};jasmine.Fixtures.prototype.read=function(){var f=[];var g=arguments;for(var h=g.length,e=0;e<h;e++){f.push(this.getFixtureHtml_(g[e]))}return f.join("")};jasmine.Fixtures.prototype.clearCache=function(){this.fixturesCache_={}};jasmine.Fixtures.prototype.cleanUp=function(){$("#"+this.containerId).remove()};jasmine.Fixtures.prototype.sandbox=function(d){var c=d||{};return $('<div id="sandbox" />').attr(c)};jasmine.Fixtures.prototype.createContainer_=function(c){var d;if(c instanceof $){d=$('<div id="'+this.containerId+'" />');d.html(c)}else{d='<div id="'+this.containerId+'">'+c+"</div>"}$("body").append(d)};jasmine.Fixtures.prototype.addToContainer_=function(c){var d=$("body").find("#"+this.containerId).append(c);if(!d.length){this.createContainer_(c)}};jasmine.Fixtures.prototype.getFixtureHtml_=function(b){if(typeof this.fixturesCache_[b]==="undefined"){this.loadFixtureIntoCache_(b)}return this.fixturesCache_[b]};jasmine.Fixtures.prototype.loadFixtureIntoCache_=function(e){var d=this.makeFixtureUrl_(e);var f=$.ajax({type:"GET",url:d+"?"+new Date().getTime(),async:false});this.fixturesCache_[e]=f.responseText};jasmine.Fixtures.prototype.makeFixtureUrl_=function(b){return this.fixturesPath.match("/$")?this.fixturesPath+b:this.fixturesPath+"/"+b};jasmine.Fixtures.prototype.proxyCallTo_=function(c,d){return this[c].apply(this,d)};jasmine.StyleFixtures=function(){this.fixturesCache_={};this.fixturesNodes_=[];this.fixturesPath="spec/javascripts/fixtures"};jasmine.StyleFixtures.prototype.set=function(b){this.cleanUp();this.createStyle_(b)};jasmine.StyleFixtures.prototype.appendSet=function(b){this.createStyle_(b)};jasmine.StyleFixtures.prototype.preload=function(){this.read_.apply(this,arguments)};jasmine.StyleFixtures.prototype.load=function(){this.cleanUp();this.createStyle_(this.read_.apply(this,arguments))};jasmine.StyleFixtures.prototype.appendLoad=function(){this.createStyle_(this.read_.apply(this,arguments))};jasmine.StyleFixtures.prototype.cleanUp=function(){while(this.fixturesNodes_.length){this.fixturesNodes_.pop().remove()}};jasmine.StyleFixtures.prototype.createStyle_=function(e){var f=$("<div></div>").html(e).text(),d=$("<style>"+f+"</style>");this.fixturesNodes_.push(d);$("head").append(d)};jasmine.StyleFixtures.prototype.clearCache=jasmine.Fixtures.prototype.clearCache;jasmine.StyleFixtures.prototype.read_=jasmine.Fixtures.prototype.read;jasmine.StyleFixtures.prototype.getFixtureHtml_=jasmine.Fixtures.prototype.getFixtureHtml_;jasmine.StyleFixtures.prototype.loadFixtureIntoCache_=jasmine.Fixtures.prototype.loadFixtureIntoCache_;jasmine.StyleFixtures.prototype.makeFixtureUrl_=jasmine.Fixtures.prototype.makeFixtureUrl_;jasmine.StyleFixtures.prototype.proxyCallTo_=jasmine.Fixtures.prototype.proxyCallTo_;jasmine.getJSONFixtures=function(){return jasmine.currentJSONFixtures_=jasmine.currentJSONFixtures_||new jasmine.JSONFixtures()};jasmine.JSONFixtures=function(){this.fixturesCache_={};this.fixturesPath="spec/javascripts/fixtures/json"};jasmine.JSONFixtures.prototype.load=function(){this.read.apply(this,arguments);return this.fixturesCache_};jasmine.JSONFixtures.prototype.read=function(){var f=arguments;for(var d=f.length,e=0;e<d;e++){this.getFixtureData_(f[e])}return this.fixturesCache_};jasmine.JSONFixtures.prototype.clearCache=function(){this.fixturesCache_={}};jasmine.JSONFixtures.prototype.getFixtureData_=function(b){this.loadFixtureIntoCache_(b);return this.fixturesCache_[b]};jasmine.JSONFixtures.prototype.loadFixtureIntoCache_=function(e){var d=this;var f=this.fixturesPath.match("/$")?this.fixturesPath+e:this.fixturesPath+"/"+e;$.ajax({async:false,cache:false,dataType:"json",url:f,success:function(a){d.fixturesCache_[e]=a},error:function(b,c,a){throw Error("JSONFixture could not be loaded: "+f+" (status: "+c+", message: "+a.message+")")}})};jasmine.JSONFixtures.prototype.proxyCallTo_=function(c,d){return this[c].apply(this,d)};jasmine.JQuery=function(){};jasmine.JQuery.browserTagCaseIndependentHtml=function(b){return $("<div/>").append(b).html()};jasmine.JQuery.elementToString=function(c){var d=$(c).get(0);if(d==undefined||d.cloneNode){return $("<div />").append($(c).clone()).html()}else{return c.toString()}};jasmine.JQuery.matchersClass={};!function(d){var c={spiedEvents:{},handlers:[]};d.events={spyOn:function(f,b){var a=function(e){c.spiedEvents[jasmine.spiedEventsKey(f,b)]=e};$(f).bind(b,a);c.handlers.push(a);return{selector:f,eventName:b,handler:a,reset:function(){delete c.spiedEvents[jasmine.spiedEventsKey(f,b)]}}},wasTriggered:function(b,a){return !!(c.spiedEvents[jasmine.spiedEventsKey(b,a)])},wasPrevented:function(b,a){return c.spiedEvents[jasmine.spiedEventsKey(b,a)].isDefaultPrevented()},cleanUp:function(){c.spiedEvents={};c.handlers=[]}}}(jasmine.JQuery);!function(){var h={toHaveClass:function(a){return this.actual.hasClass(a)},toHaveCss:function(b){for(var a in b){if(this.actual.css(a)!==b[a]){return false}}return true},toBeVisible:function(){return this.actual.is(":visible")},toBeHidden:function(){return this.actual.is(":hidden")},toBeSelected:function(){return this.actual.is(":selected")},toBeChecked:function(){return this.actual.is(":checked")},toBeEmpty:function(){return this.actual.is(":empty")},toExist:function(){return $(document).find(this.actual).length},toHaveAttr:function(a,b){return e(this.actual.attr(a),b)},toHaveProp:function(b,a){return e(this.actual.prop(b),a)},toHaveId:function(a){return this.actual.attr("id")==a},toHaveHtml:function(a){return this.actual.html()==jasmine.JQuery.browserTagCaseIndependentHtml(a)},toContainHtml:function(b){var a=this.actual.html();var c=jasmine.JQuery.browserTagCaseIndependentHtml(b);return(a.indexOf(c)>=0)},toHaveText:function(a){var b=$.trim(this.actual.text());if(a&&$.isFunction(a.test)){return a.test(b)}else{return b==a}},toHaveValue:function(a){return this.actual.val()==a},toHaveData:function(a,b){return e(this.actual.data(a),b)},toBe:function(a){return this.actual.is(a)},toContain:function(a){return this.actual.find(a).length},toBeDisabled:function(a){return this.actual.is(":disabled")},toBeFocused:function(a){return this.actual.is(":focus")},toHandle:function(c){var i=$._data(this.actual.get(0),"events");if(!i||!c||typeof c!=="string"){return false}var a=c.split(".");var n=a.shift();var b=a.slice(0).sort();var p=new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.)?")+"(\\.|$)");if(i[n]&&a.length){for(var o=0;o<i[n].length;o++){var d=i[n][o].namespace;if(p.test(d)){return true}}}else{return i[n]&&i[n].length>0}},toHandleWith:function(c,a){var d=$._data(this.actual.get(0),"events")[c];for(var b=0;b<d.length;b++){if(d[b].handler==a){return true}}return false}};var e=function(a,b){if(b===undefined){return a!==undefined}return a==b};var g=function(a){var b=jasmine.Matchers.prototype[a];jasmine.JQuery.matchersClass[a]=function(){if(this.actual&&(this.actual instanceof $||jasmine.isDomNode(this.actual))){this.actual=$(this.actual);var d=h[a].apply(this,arguments);var c;if(this.actual.get&&(c=this.actual.get()[0])&&!$.isWindow(c)&&c.tagName!=="HTML"){this.actual=jasmine.JQuery.elementToString(this.actual)}return d}if(b){return b.apply(this,arguments)}return false}};for(var f in h){g(f)}}();beforeEach(function(){this.addMatchers(jasmine.JQuery.matchersClass);this.addMatchers({toHaveBeenTriggeredOn:function(b){this.message=function(){return["Expected event "+this.actual+" to have been triggered on "+b,"Expected event "+this.actual+" not to have been triggered on "+b]};return jasmine.JQuery.events.wasTriggered(b,this.actual)}});this.addMatchers({toHaveBeenTriggered:function(){var c=this.actual.eventName,d=this.actual.selector;this.message=function(){return["Expected event "+c+" to have been triggered on "+d,"Expected event "+c+" not to have been triggered on "+d]};return jasmine.JQuery.events.wasTriggered(d,c)}});this.addMatchers({toHaveBeenPreventedOn:function(b){this.message=function(){return["Expected event "+this.actual+" to have been prevented on "+b,"Expected event "+this.actual+" not to have been prevented on "+b]};return jasmine.JQuery.events.wasPrevented(b,this.actual)}});this.addMatchers({toHaveBeenPrevented:function(){var c=this.actual.eventName,d=this.actual.selector;this.message=function(){return["Expected event "+c+" to have been prevented on "+d,"Expected event "+c+" not to have been prevented on "+d]};return jasmine.JQuery.events.wasPrevented(d,c)}})});afterEach(function(){jasmine.getFixtures().cleanUp();jasmine.getStyleFixtures().cleanUp();jasmine.JQuery.events.cleanUp()});