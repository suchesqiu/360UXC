var isCommonJS=typeof window=="undefined";var jasmine={};if(isCommonJS){exports.jasmine=jasmine}jasmine.unimplementedMethod_=function(){throw new Error("unimplemented method")};jasmine.undefined=jasmine.___undefined___;jasmine.VERBOSE=false;jasmine.DEFAULT_UPDATE_INTERVAL=250;jasmine.DEFAULT_TIMEOUT_INTERVAL=5000;jasmine.getGlobal=function(){function b(){return this}return b()};jasmine.bindOriginal_=function(f,e){var d=f[e];if(d.apply){return function(){return d.apply(f,arguments)}}else{return jasmine.getGlobal()[e]}};jasmine.setTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"setTimeout");jasmine.clearTimeout=jasmine.bindOriginal_(jasmine.getGlobal(),"clearTimeout");jasmine.setInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"setInterval");jasmine.clearInterval=jasmine.bindOriginal_(jasmine.getGlobal(),"clearInterval");jasmine.MessageResult=function(b){this.type="log";this.values=b;this.trace=new Error()};jasmine.MessageResult.prototype.toString=function(){var c="";for(var d=0;d<this.values.length;d++){if(d>0){c+=" "}if(jasmine.isString_(this.values[d])){c+=this.values[d]}else{c+=jasmine.pp(this.values[d])}}return c};jasmine.ExpectationResult=function(c){this.type="expect";this.matcherName=c.matcherName;this.passed_=c.passed;this.expected=c.expected;this.actual=c.actual;this.message=this.passed_?"Passed.":c.message;var d=(c.trace||new Error(this.message));this.trace=this.passed_?"":d};jasmine.ExpectationResult.prototype.toString=function(){return this.message};jasmine.ExpectationResult.prototype.passed=function(){return this.passed_};jasmine.getEnv=function(){var b=jasmine.currentEnv_=jasmine.currentEnv_||new jasmine.Env();return b};jasmine.isArray_=function(b){return jasmine.isA_("Array",b)};jasmine.isString_=function(b){return jasmine.isA_("String",b)};jasmine.isNumber_=function(b){return jasmine.isA_("Number",b)};jasmine.isA_=function(d,c){return Object.prototype.toString.apply(c)==="[object "+d+"]"};jasmine.pp=function(d){var c=new jasmine.StringPrettyPrinter();c.format(d);return c.string};jasmine.isDomNode=function(b){return b.nodeType>0};jasmine.any=function(b){return new jasmine.Matchers.Any(b)};jasmine.objectContaining=function(b){return new jasmine.Matchers.ObjectContaining(b)};jasmine.Spy=function(b){this.identity=b||"unknown";this.isSpy=true;this.plan=function(){};this.mostRecentCall={};this.argsForCall=[];this.calls=[]};jasmine.Spy.prototype.andCallThrough=function(){this.plan=this.originalValue;return this};jasmine.Spy.prototype.andReturn=function(b){this.plan=function(){return b};return this};jasmine.Spy.prototype.andThrow=function(b){this.plan=function(){throw b};return this};jasmine.Spy.prototype.andCallFake=function(b){this.plan=b;return this};jasmine.Spy.prototype.reset=function(){this.wasCalled=false;this.callCount=0;this.argsForCall=[];this.calls=[];this.mostRecentCall={}};jasmine.createSpy=function(e){var f=function(){f.wasCalled=true;f.callCount++;var a=jasmine.util.argsToArray(arguments);f.mostRecentCall.object=this;f.mostRecentCall.args=a;f.argsForCall.push(a);f.calls.push({object:this,args:a});return f.plan.apply(this,arguments)};var h=new jasmine.Spy(e);for(var g in h){f[g]=h[g]}f.reset();return f};jasmine.isSpy=function(b){return b&&b.isSpy};jasmine.createSpyObj=function(e,h){if(!jasmine.isArray_(h)||h.length===0){throw new Error("createSpyObj requires a non-empty array of method names to create spies for")}var g={};for(var f=0;f<h.length;f++){g[h[f]]=jasmine.createSpy(e+"."+h[f])}return g};jasmine.log=function(){var b=jasmine.getEnv().currentSpec;b.log.apply(b,arguments)};var spyOn=function(c,d){return jasmine.getEnv().currentSpec.spyOn(c,d)};if(isCommonJS){exports.spyOn=spyOn}var it=function(c,d){return jasmine.getEnv().it(c,d)};if(isCommonJS){exports.it=it}var xit=function(c,d){return jasmine.getEnv().xit(c,d)};if(isCommonJS){exports.xit=xit}var expect=function(b){return jasmine.getEnv().currentSpec.expect(b)};if(isCommonJS){exports.expect=expect}var runs=function(b){jasmine.getEnv().currentSpec.runs(b)};if(isCommonJS){exports.runs=runs}var waits=function(b){jasmine.getEnv().currentSpec.waits(b)};if(isCommonJS){exports.waits=waits}var waitsFor=function(f,e,d){jasmine.getEnv().currentSpec.waitsFor.apply(jasmine.getEnv().currentSpec,arguments)};if(isCommonJS){exports.waitsFor=waitsFor}var beforeEach=function(b){jasmine.getEnv().beforeEach(b)};if(isCommonJS){exports.beforeEach=beforeEach}var afterEach=function(b){jasmine.getEnv().afterEach(b)};if(isCommonJS){exports.afterEach=afterEach}var describe=function(c,d){return jasmine.getEnv().describe(c,d)};if(isCommonJS){exports.describe=describe}var xdescribe=function(c,d){return jasmine.getEnv().xdescribe(c,d)};if(isCommonJS){exports.xdescribe=xdescribe}jasmine.XmlHttpRequest=(typeof XMLHttpRequest=="undefined")?function(){function c(b){try{return b()}catch(a){}return null}var d=c(function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")})||c(function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")})||c(function(){return new ActiveXObject("Msxml2.XMLHTTP")})||c(function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!d){throw new Error("This browser does not support XMLHttpRequest.")}return d}:XMLHttpRequest;jasmine.util={};jasmine.util.inherit=function(d,f){var e=function(){};e.prototype=f.prototype;d.prototype=new e()};jasmine.util.formatException=function(g){var f;if(g.line){f=g.line}else{if(g.lineNumber){f=g.lineNumber}}var e;if(g.sourceURL){e=g.sourceURL}else{if(g.fileName){e=g.fileName}}var h=(g.name&&g.message)?(g.name+": "+g.message):g.toString();if(e&&f){h+=" in "+e+" (line "+f+")"}return h};jasmine.util.htmlEscape=function(b){if(!b){return b}return b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")};jasmine.util.argsToArray=function(d){var e=[];for(var f=0;f<d.length;f++){e.push(d[f])}return e};jasmine.util.extend=function(e,f){for(var d in f){e[d]=f[d]}return e};jasmine.Env=function(){this.currentSpec=null;this.currentSuite=null;this.currentRunner_=new jasmine.Runner(this);this.reporter=new jasmine.MultiReporter();this.updateInterval=jasmine.DEFAULT_UPDATE_INTERVAL;this.defaultTimeoutInterval=jasmine.DEFAULT_TIMEOUT_INTERVAL;this.lastUpdate=0;this.specFilter=function(){return true};this.nextSpecId_=0;this.nextSuiteId_=0;this.equalityTesters_=[];this.matchersClass=function(){jasmine.Matchers.apply(this,arguments)};jasmine.util.inherit(this.matchersClass,jasmine.Matchers);jasmine.Matchers.wrapInto_(jasmine.Matchers.prototype,this.matchersClass)};jasmine.Env.prototype.setTimeout=jasmine.setTimeout;jasmine.Env.prototype.clearTimeout=jasmine.clearTimeout;jasmine.Env.prototype.setInterval=jasmine.setInterval;jasmine.Env.prototype.clearInterval=jasmine.clearInterval;jasmine.Env.prototype.version=function(){if(jasmine.version_){return jasmine.version_}else{throw new Error("Version not set")}};jasmine.Env.prototype.versionString=function(){if(!jasmine.version_){return"version unknown"}var c=this.version();var d=c.major+"."+c.minor+"."+c.build;if(c.release_candidate){d+=".rc"+c.release_candidate}d+=" revision "+c.revision;return d};jasmine.Env.prototype.nextSpecId=function(){return this.nextSpecId_++};jasmine.Env.prototype.nextSuiteId=function(){return this.nextSuiteId_++};jasmine.Env.prototype.addReporter=function(b){this.reporter.addReporter(b)};jasmine.Env.prototype.execute=function(){this.currentRunner_.execute()};jasmine.Env.prototype.describe=function(j,e){var k=new jasmine.Suite(this,j,e,this.currentSuite);var l=this.currentSuite;if(l){l.add(k)}else{this.currentRunner_.add(k)}this.currentSuite=k;var h=null;try{e.call(k)}catch(i){h=i}if(h){this.it("encountered a declaration exception",function(){throw h})}this.currentSuite=l;return k};jasmine.Env.prototype.beforeEach=function(b){if(this.currentSuite){this.currentSuite.beforeEach(b)}else{this.currentRunner_.beforeEach(b)}};jasmine.Env.prototype.currentRunner=function(){return this.currentRunner_};jasmine.Env.prototype.afterEach=function(b){if(this.currentSuite){this.currentSuite.afterEach(b)}else{this.currentRunner_.afterEach(b)}};jasmine.Env.prototype.xdescribe=function(c,d){return{execute:function(){}}};jasmine.Env.prototype.it=function(f,d){var e=new jasmine.Spec(this,this.currentSuite,f);this.currentSuite.add(e);this.currentSpec=e;if(d){e.runs(d)}return e};jasmine.Env.prototype.xit=function(c,d){return{id:this.nextSpecId(),runs:function(){}}};jasmine.Env.prototype.compareObjects_=function(j,k,l,a){if(j.__Jasmine_been_here_before__===k&&k.__Jasmine_been_here_before__===j){return true}j.__Jasmine_been_here_before__=k;k.__Jasmine_been_here_before__=j;var i=function(c,d){return c!==null&&c[d]!==jasmine.undefined};for(var b in k){if(!i(j,b)&&i(k,b)){l.push("expected has key '"+b+"', but missing from actual.")}}for(b in j){if(!i(k,b)&&i(j,b)){l.push("expected missing key '"+b+"', but present in actual.")}}for(b in k){if(b=="__Jasmine_been_here_before__"){continue}if(!this.equals_(j[b],k[b],l,a)){a.push("'"+b+"' was '"+(k[b]?jasmine.util.htmlEscape(k[b].toString()):k[b])+"' in expected, but was '"+(j[b]?jasmine.util.htmlEscape(j[b].toString()):j[b])+"' in actual.")}}if(jasmine.isArray_(j)&&jasmine.isArray_(k)&&j.length!=k.length){a.push("arrays were not the same length")}delete j.__Jasmine_been_here_before__;delete k.__Jasmine_been_here_before__;return(l.length===0&&a.length===0)};jasmine.Env.prototype.equals_=function(k,l,m,a){m=m||[];a=a||[];for(var i=0;i<this.equalityTesters_.length;i++){var b=this.equalityTesters_[i];var n=b(k,l,this,m,a);if(n!==jasmine.undefined){return n}}if(k===l){return true}if(k===jasmine.undefined||k===null||l===jasmine.undefined||l===null){return(k==jasmine.undefined&&l==jasmine.undefined)}if(jasmine.isDomNode(k)&&jasmine.isDomNode(l)){return k===l}if(k instanceof Date&&l instanceof Date){return k.getTime()==l.getTime()}if(k.jasmineMatches){return k.jasmineMatches(l)}if(l.jasmineMatches){return l.jasmineMatches(k)}if(k instanceof jasmine.Matchers.ObjectContaining){return k.matches(l)}if(l instanceof jasmine.Matchers.ObjectContaining){return l.matches(k)}if(jasmine.isString_(k)&&jasmine.isString_(l)){return(k==l)}if(jasmine.isNumber_(k)&&jasmine.isNumber_(l)){return(k==l)}if(typeof k==="object"&&typeof l==="object"){return this.compareObjects_(k,l,m,a)}return(k===l)};jasmine.Env.prototype.contains_=function(d,f){if(jasmine.isArray_(d)){for(var e=0;e<d.length;e++){if(this.equals_(d[e],f)){return true}}return false}return d.indexOf(f)>=0};jasmine.Env.prototype.addEqualityTester=function(b){this.equalityTesters_.push(b)};jasmine.Reporter=function(){};jasmine.Reporter.prototype.reportRunnerStarting=function(b){};jasmine.Reporter.prototype.reportRunnerResults=function(b){};jasmine.Reporter.prototype.reportSuiteResults=function(b){};jasmine.Reporter.prototype.reportSpecStarting=function(b){};jasmine.Reporter.prototype.reportSpecResults=function(b){};jasmine.Reporter.prototype.log=function(b){};jasmine.Block=function(d,f,e){this.env=d;this.func=f;this.spec=e};jasmine.Block.prototype.execute=function(c){try{this.func.apply(this.spec)}catch(d){this.spec.fail(d)}c()};jasmine.JsApiReporter=function(){this.started=false;this.finished=false;this.suites_=[];this.results_={}};jasmine.JsApiReporter.prototype.reportRunnerStarting=function(g){this.started=true;var h=g.topLevelSuites();for(var f=0;f<h.length;f++){var e=h[f];this.suites_.push(this.summarize_(e))}};jasmine.JsApiReporter.prototype.suites=function(){return this.suites_};jasmine.JsApiReporter.prototype.summarize_=function(h){var i=h instanceof jasmine.Suite;var g={id:h.id,name:h.description,type:i?"suite":"spec",children:[]};if(i){var j=h.children();for(var f=0;f<j.length;f++){g.children.push(this.summarize_(j[f]))}}return g};jasmine.JsApiReporter.prototype.results=function(){return this.results_};jasmine.JsApiReporter.prototype.resultsForSpec=function(b){return this.results_[b]};jasmine.JsApiReporter.prototype.reportRunnerResults=function(b){this.finished=true};jasmine.JsApiReporter.prototype.reportSuiteResults=function(b){};jasmine.JsApiReporter.prototype.reportSpecResults=function(b){this.results_[b.id]={messages:b.results().getItems(),result:b.results().failedCount>0?"failed":"passed"}};jasmine.JsApiReporter.prototype.log=function(b){};jasmine.JsApiReporter.prototype.resultsForSpecs=function(g){var h={};for(var e=0;e<g.length;e++){var f=g[e];h[f]=this.summarizeResult_(this.results_[f])}return h};jasmine.JsApiReporter.prototype.summarizeResult_=function(g){var h=[];var f=g.messages.length;for(var i=0;i<f;i++){var j=g.messages[i];h.push({text:j.type=="log"?j.toString():jasmine.undefined,passed:j.passed?j.passed():true,type:j.type,message:j.message,trace:{stack:j.passed&&!j.passed()?j.trace.stack:jasmine.undefined}})}return{result:g.result,messages:h}};jasmine.Matchers=function(e,g,f,h){this.env=e;this.actual=g;this.spec=f;this.isNot=h||false;this.reportWasCalled_=false};jasmine.Matchers.pp=function(b){throw new Error("jasmine.Matchers.pp() is no longer supported, please use jasmine.pp() instead!")};jasmine.Matchers.prototype.report=function(e,f,d){throw new Error("As of jasmine 0.11, custom matchers must be implemented differently -- please see jasmine docs")};jasmine.Matchers.wrapInto_=function(e,h){for(var f in e){if(f=="report"){continue}var g=e[f];h.prototype[f]=jasmine.Matchers.matcherFn_(f,g)}};jasmine.Matchers.matcherFn_=function(c,d){return function(){var i=jasmine.util.argsToArray(arguments);var l=d.apply(this,arguments);if(this.isNot){l=!l}if(this.reportWasCalled_){return l}var j;if(!l){if(this.message){j=this.message.apply(this,arguments);if(jasmine.isArray_(j)){j=j[this.isNot?1:0]}}else{var a=c.replace(/[A-Z]/g,function(e){return" "+e.toLowerCase()});j="Expected "+jasmine.pp(this.actual)+(this.isNot?" not ":" ")+a;if(i.length>0){for(var k=0;k<i.length;k++){if(k>0){j+=","}j+=" "+jasmine.pp(i[k])}}j+="."}}var b=new jasmine.ExpectationResult({matcherName:c,passed:l,expected:i.length>1?i:i[0],actual:this.actual,message:j});this.spec.addMatcherResult(b);return jasmine.undefined}};jasmine.Matchers.prototype.toBe=function(b){return this.actual===b};jasmine.Matchers.prototype.toNotBe=function(b){return this.actual!==b};jasmine.Matchers.prototype.toEqual=function(b){return this.env.equals_(this.actual,b)};jasmine.Matchers.prototype.toNotEqual=function(b){return !this.env.equals_(this.actual,b)};jasmine.Matchers.prototype.toMatch=function(b){return new RegExp(b).test(this.actual)};jasmine.Matchers.prototype.toNotMatch=function(b){return !(new RegExp(b).test(this.actual))};jasmine.Matchers.prototype.toBeDefined=function(){return(this.actual!==jasmine.undefined)};jasmine.Matchers.prototype.toBeUndefined=function(){return(this.actual===jasmine.undefined)};jasmine.Matchers.prototype.toBeNull=function(){return(this.actual===null)};jasmine.Matchers.prototype.toBeTruthy=function(){return !!this.actual};jasmine.Matchers.prototype.toBeFalsy=function(){return !this.actual};jasmine.Matchers.prototype.toHaveBeenCalled=function(){if(arguments.length>0){throw new Error("toHaveBeenCalled does not take arguments, use toHaveBeenCalledWith")}if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){return["Expected spy "+this.actual.identity+" to have been called.","Expected spy "+this.actual.identity+" not to have been called."]};return this.actual.wasCalled};jasmine.Matchers.prototype.wasCalled=jasmine.Matchers.prototype.toHaveBeenCalled;jasmine.Matchers.prototype.wasNotCalled=function(){if(arguments.length>0){throw new Error("wasNotCalled does not take arguments")}if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){return["Expected spy "+this.actual.identity+" to not have been called.","Expected spy "+this.actual.identity+" to have been called."]};return !this.actual.wasCalled};jasmine.Matchers.prototype.toHaveBeenCalledWith=function(){var b=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){if(this.actual.callCount===0){return["Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(b)+" but it was never called.","Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(b)+" but it was."]}else{return["Expected spy "+this.actual.identity+" to have been called with "+jasmine.pp(b)+" but was called with "+jasmine.pp(this.actual.argsForCall),"Expected spy "+this.actual.identity+" not to have been called with "+jasmine.pp(b)+" but was called with "+jasmine.pp(this.actual.argsForCall)]}};return this.env.contains_(this.actual.argsForCall,b)};jasmine.Matchers.prototype.wasCalledWith=jasmine.Matchers.prototype.toHaveBeenCalledWith;jasmine.Matchers.prototype.wasNotCalledWith=function(){var b=jasmine.util.argsToArray(arguments);if(!jasmine.isSpy(this.actual)){throw new Error("Expected a spy, but got "+jasmine.pp(this.actual)+".")}this.message=function(){return["Expected spy not to have been called with "+jasmine.pp(b)+" but it was","Expected spy to have been called with "+jasmine.pp(b)+" but it was"]};return !this.env.contains_(this.actual.argsForCall,b)};jasmine.Matchers.prototype.toContain=function(b){return this.env.contains_(this.actual,b)};jasmine.Matchers.prototype.toNotContain=function(b){return !this.env.contains_(this.actual,b)};jasmine.Matchers.prototype.toBeLessThan=function(b){return this.actual<b};jasmine.Matchers.prototype.toBeGreaterThan=function(b){return this.actual>b};jasmine.Matchers.prototype.toBeCloseTo=function(e,f){if(!(f===0)){f=f||2}var g=Math.pow(10,f);var h=Math.round(this.actual*g);e=Math.round(e*g);return e==h};jasmine.Matchers.prototype.toThrow=function(i){var g=false;var e;if(typeof this.actual!="function"){throw new Error("Actual is not a function")}try{this.actual()}catch(h){e=h}if(e){g=(i===jasmine.undefined||this.env.equals_(e.message||e,i.message||i))}var j=this.isNot?"not ":"";this.message=function(){if(e&&(i===jasmine.undefined||!this.env.equals_(e.message||e,i.message||i))){return["Expected function "+j+"to throw",i?i.message||i:"an exception",", but it threw",e.message||e].join(" ")}else{return"Expected function to throw an exception."}};return g};jasmine.Matchers.Any=function(b){this.expectedClass=b};jasmine.Matchers.Any.prototype.jasmineMatches=function(b){if(this.expectedClass==String){return typeof b=="string"||b instanceof String}if(this.expectedClass==Number){return typeof b=="number"||b instanceof Number}if(this.expectedClass==Function){return typeof b=="function"||b instanceof Function}if(this.expectedClass==Object){return typeof b=="object"}return b instanceof this.expectedClass};jasmine.Matchers.Any.prototype.jasmineToString=function(){return"<jasmine.any("+this.expectedClass+")>"};jasmine.Matchers.ObjectContaining=function(b){this.sample=b};jasmine.Matchers.ObjectContaining.prototype.jasmineMatches=function(g,h,i){h=h||[];i=i||[];var k=jasmine.getEnv();var l=function(a,b){return a!=null&&a[b]!==jasmine.undefined};for(var j in this.sample){if(!l(g,j)&&l(this.sample,j)){h.push("expected has key '"+j+"', but missing from actual.")}else{if(!k.equals_(this.sample[j],g[j],h,i)){i.push("'"+j+"' was '"+(g[j]?jasmine.util.htmlEscape(g[j].toString()):g[j])+"' in expected, but was '"+(this.sample[j]?jasmine.util.htmlEscape(this.sample[j].toString()):this.sample[j])+"' in actual.")}}}return(h.length===0&&i.length===0)};jasmine.Matchers.ObjectContaining.prototype.jasmineToString=function(){return"<jasmine.objectContaining("+jasmine.pp(this.sample)+")>"};jasmine.FakeTimer=function(){this.reset();var b=this;b.setTimeout=function(a,d){b.timeoutsMade++;b.scheduleFunction(b.timeoutsMade,a,d,false);return b.timeoutsMade};b.setInterval=function(a,d){b.timeoutsMade++;b.scheduleFunction(b.timeoutsMade,a,d,true);return b.timeoutsMade};b.clearTimeout=function(a){b.scheduledFunctions[a]=jasmine.undefined};b.clearInterval=function(a){b.scheduledFunctions[a]=jasmine.undefined}};jasmine.FakeTimer.prototype.reset=function(){this.timeoutsMade=0;this.scheduledFunctions={};this.nowMillis=0};jasmine.FakeTimer.prototype.tick=function(d){var e=this.nowMillis;var f=e+d;this.runFunctionsWithinRange(e,f);this.nowMillis=f};jasmine.FakeTimer.prototype.runFunctionsWithinRange=function(e,i){var m;var n=[];for(var o in this.scheduledFunctions){m=this.scheduledFunctions[o];if(m!=jasmine.undefined&&m.runAtMillis>=e&&m.runAtMillis<=i){n.push(m);this.scheduledFunctions[o]=jasmine.undefined}}if(n.length>0){n.sort(function(a,b){return a.runAtMillis-b.runAtMillis});for(var p=0;p<n.length;++p){try{var k=n[p];this.nowMillis=k.runAtMillis;k.funcToCall();if(k.recurring){this.scheduleFunction(k.timeoutKey,k.funcToCall,k.millis,true)}}catch(l){}}this.runFunctionsWithinRange(e,i)}};jasmine.FakeTimer.prototype.scheduleFunction=function(h,f,e,g){this.scheduledFunctions[h]={runAtMillis:this.nowMillis+e,funcToCall:f,recurring:g,timeoutKey:h,millis:e}};jasmine.Clock={defaultFakeTimer:new jasmine.FakeTimer(),reset:function(){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.reset()},tick:function(b){jasmine.Clock.assertInstalled();jasmine.Clock.defaultFakeTimer.tick(b)},runFunctionsWithinRange:function(c,d){jasmine.Clock.defaultFakeTimer.runFunctionsWithinRange(c,d)},scheduleFunction:function(h,f,e,g){jasmine.Clock.defaultFakeTimer.scheduleFunction(h,f,e,g)},useMock:function(){if(!jasmine.Clock.isInstalled()){var b=jasmine.getEnv().currentSpec;b.after(jasmine.Clock.uninstallMock);jasmine.Clock.installMock()}},installMock:function(){jasmine.Clock.installed=jasmine.Clock.defaultFakeTimer},uninstallMock:function(){jasmine.Clock.assertInstalled();jasmine.Clock.installed=jasmine.Clock.real},real:{setTimeout:jasmine.getGlobal().setTimeout,clearTimeout:jasmine.getGlobal().clearTimeout,setInterval:jasmine.getGlobal().setInterval,clearInterval:jasmine.getGlobal().clearInterval},assertInstalled:function(){if(!jasmine.Clock.isInstalled()){throw new Error("Mock clock is not installed, use jasmine.Clock.useMock()")}},isInstalled:function(){return jasmine.Clock.installed==jasmine.Clock.defaultFakeTimer},installed:null};jasmine.Clock.installed=jasmine.Clock.real;jasmine.getGlobal().setTimeout=function(d,c){if(jasmine.Clock.installed.setTimeout.apply){return jasmine.Clock.installed.setTimeout.apply(this,arguments)}else{return jasmine.Clock.installed.setTimeout(d,c)}};jasmine.getGlobal().setInterval=function(d,c){if(jasmine.Clock.installed.setInterval.apply){return jasmine.Clock.installed.setInterval.apply(this,arguments)}else{return jasmine.Clock.installed.setInterval(d,c)}};jasmine.getGlobal().clearTimeout=function(b){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearTimeout.apply(this,arguments)}else{return jasmine.Clock.installed.clearTimeout(b)}};jasmine.getGlobal().clearInterval=function(b){if(jasmine.Clock.installed.clearTimeout.apply){return jasmine.Clock.installed.clearInterval.apply(this,arguments)}else{return jasmine.Clock.installed.clearInterval(b)}};jasmine.MultiReporter=function(){this.subReporters_=[]};jasmine.util.inherit(jasmine.MultiReporter,jasmine.Reporter);jasmine.MultiReporter.prototype.addReporter=function(b){this.subReporters_.push(b)};(function(){var f=["reportRunnerStarting","reportRunnerResults","reportSuiteResults","reportSpecStarting","reportSpecResults","log"];for(var e=0;e<f.length;e++){var d=f[e];jasmine.MultiReporter.prototype[d]=(function(a){return function(){for(var c=0;c<this.subReporters_.length;c++){var b=this.subReporters_[c];if(b[a]){b[a].apply(b,arguments)}}}})(d)}})();jasmine.NestedResults=function(){this.totalCount=0;this.passedCount=0;this.failedCount=0;this.skipped=false;this.items_=[]};jasmine.NestedResults.prototype.rollupCounts=function(b){this.totalCount+=b.totalCount;this.passedCount+=b.passedCount;this.failedCount+=b.failedCount};jasmine.NestedResults.prototype.log=function(b){this.items_.push(new jasmine.MessageResult(b))};jasmine.NestedResults.prototype.getItems=function(){return this.items_};jasmine.NestedResults.prototype.addResult=function(b){if(b.type!="log"){if(b.items_){this.rollupCounts(b)}else{this.totalCount++;if(b.passed()){this.passedCount++}else{this.failedCount++}}}this.items_.push(b)};jasmine.NestedResults.prototype.passed=function(){return this.passedCount===this.totalCount};jasmine.PrettyPrinter=function(){this.ppNestLevel_=0};jasmine.PrettyPrinter.prototype.format=function(b){if(this.ppNestLevel_>40){throw new Error("jasmine.PrettyPrinter: format() nested too deeply!")}this.ppNestLevel_++;try{if(b===jasmine.undefined){this.emitScalar("undefined")}else{if(b===null){this.emitScalar("null")}else{if(b===jasmine.getGlobal()){this.emitScalar("<global>")}else{if(b.jasmineToString){this.emitScalar(b.jasmineToString())}else{if(typeof b==="string"){this.emitString(b)}else{if(jasmine.isSpy(b)){this.emitScalar("spy on "+b.identity)}else{if(b instanceof RegExp){this.emitScalar(b.toString())}else{if(typeof b==="function"){this.emitScalar("Function")}else{if(typeof b.nodeType==="number"){this.emitScalar("HTMLNode")}else{if(b instanceof Date){this.emitScalar("Date("+b+")")}else{if(b.__Jasmine_been_here_before__){this.emitScalar("<circular reference: "+(jasmine.isArray_(b)?"Array":"Object")+">")}else{if(jasmine.isArray_(b)||typeof b=="object"){b.__Jasmine_been_here_before__=true;if(jasmine.isArray_(b)){this.emitArray(b)}else{this.emitObject(b)}delete b.__Jasmine_been_here_before__}else{this.emitScalar(b.toString())}}}}}}}}}}}}}finally{this.ppNestLevel_--}};jasmine.PrettyPrinter.prototype.iterateObject=function(f,e){for(var d in f){if(d=="__Jasmine_been_here_before__"){continue}e(d,f.__lookupGetter__?(f.__lookupGetter__(d)!==jasmine.undefined&&f.__lookupGetter__(d)!==null):false)}};jasmine.PrettyPrinter.prototype.emitArray=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitObject=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitScalar=jasmine.unimplementedMethod_;jasmine.PrettyPrinter.prototype.emitString=jasmine.unimplementedMethod_;jasmine.StringPrettyPrinter=function(){jasmine.PrettyPrinter.call(this);this.string=""};jasmine.util.inherit(jasmine.StringPrettyPrinter,jasmine.PrettyPrinter);jasmine.StringPrettyPrinter.prototype.emitScalar=function(b){this.append(b)};jasmine.StringPrettyPrinter.prototype.emitString=function(b){this.append("'"+b+"'")};jasmine.StringPrettyPrinter.prototype.emitArray=function(c){this.append("[ ");for(var d=0;d<c.length;d++){if(d>0){this.append(", ")}this.format(c[d])}this.append(" ]")};jasmine.StringPrettyPrinter.prototype.emitObject=function(d){var e=this;this.append("{ ");var f=true;this.iterateObject(d,function(b,a){if(f){f=false}else{e.append(", ")}e.append(b);e.append(" : ");if(a){e.append("<getter>")}else{e.format(d[b])}});this.append(" }")};jasmine.StringPrettyPrinter.prototype.append=function(b){this.string+=b};jasmine.Queue=function(b){this.env=b;this.blocks=[];this.running=false;this.index=0;this.offset=0;this.abort=false};jasmine.Queue.prototype.addBefore=function(b){this.blocks.unshift(b)};jasmine.Queue.prototype.add=function(b){this.blocks.push(b)};jasmine.Queue.prototype.insertNext=function(b){this.blocks.splice((this.index+this.offset+1),0,b);this.offset++};jasmine.Queue.prototype.start=function(b){this.running=true;this.onComplete=b;this.next_()};jasmine.Queue.prototype.isRunning=function(){return this.running};jasmine.Queue.LOOP_DONT_RECURSE=true;jasmine.Queue.prototype.next_=function(){var g=this;var i=true;while(i){i=false;if(g.index<g.blocks.length&&!this.abort){var h=true;var f=false;var j=function(){if(jasmine.Queue.LOOP_DONT_RECURSE&&h){f=true;return}if(g.blocks[g.index].abort){g.abort=true}g.offset=0;g.index++;var a=new Date().getTime();if(g.env.updateInterval&&a-g.env.lastUpdate>g.env.updateInterval){g.env.lastUpdate=a;g.env.setTimeout(function(){g.next_()},0)}else{if(jasmine.Queue.LOOP_DONT_RECURSE&&f){i=true}else{g.next_()}}};g.blocks[g.index].execute(j);h=false;if(f){j()}}else{g.running=false;if(g.onComplete){g.onComplete()}}}};jasmine.Queue.prototype.results=function(){var c=new jasmine.NestedResults();for(var d=0;d<this.blocks.length;d++){if(this.blocks[d].results){c.addResult(this.blocks[d].results())}}return c};jasmine.Runner=function(c){var d=this;d.env=c;d.queue=new jasmine.Queue(c);d.before_=[];d.after_=[];d.suites_=[]};jasmine.Runner.prototype.execute=function(){var b=this;if(b.env.reporter.reportRunnerStarting){b.env.reporter.reportRunnerStarting(this)}b.queue.start(function(){b.finishCallback()})};jasmine.Runner.prototype.beforeEach=function(b){b.typeName="beforeEach";this.before_.splice(0,0,b)};jasmine.Runner.prototype.afterEach=function(b){b.typeName="afterEach";this.after_.splice(0,0,b)};jasmine.Runner.prototype.finishCallback=function(){this.env.reporter.reportRunnerResults(this)};jasmine.Runner.prototype.addSuite=function(b){this.suites_.push(b)};jasmine.Runner.prototype.add=function(b){if(b instanceof jasmine.Suite){this.addSuite(b)}this.queue.add(b)};jasmine.Runner.prototype.specs=function(){var d=this.suites();var f=[];for(var e=0;e<d.length;e++){f=f.concat(d[e].specs())}return f};jasmine.Runner.prototype.suites=function(){return this.suites_};jasmine.Runner.prototype.topLevelSuites=function(){var c=[];for(var d=0;d<this.suites_.length;d++){if(!this.suites_[d].parentSuite){c.push(this.suites_[d])}}return c};jasmine.Runner.prototype.results=function(){return this.queue.results()};jasmine.Spec=function(h,e,g){if(!h){throw new Error("jasmine.Env() required")}if(!e){throw new Error("jasmine.Suite() required")}var f=this;f.id=h.nextSpecId?h.nextSpecId():null;f.env=h;f.suite=e;f.description=g;f.queue=new jasmine.Queue(h);f.afterCallbacks=[];f.spies_=[];f.results_=new jasmine.NestedResults();f.results_.description=g;f.matchersClass=null};jasmine.Spec.prototype.getFullName=function(){return this.suite.getFullName()+" "+this.description+"."};jasmine.Spec.prototype.results=function(){return this.results_};jasmine.Spec.prototype.log=function(){return this.results_.log(arguments)};jasmine.Spec.prototype.runs=function(d){var c=new jasmine.Block(this.env,d,this);this.addToQueue(c);return this};jasmine.Spec.prototype.addToQueue=function(b){if(this.queue.isRunning()){this.queue.insertNext(b)}else{this.queue.add(b)}};jasmine.Spec.prototype.addMatcherResult=function(b){this.results_.addResult(b)};jasmine.Spec.prototype.expect=function(c){var d=new (this.getMatchersClass_())(this.env,c,this);d.not=new (this.getMatchersClass_())(this.env,c,this,true);return d};jasmine.Spec.prototype.waits=function(d){var c=new jasmine.WaitsBlock(this.env,d,this);this.addToQueue(c);return this};jasmine.Spec.prototype.waitsFor=function(p,r,o){var k=null;var q=null;var l=null;for(var m=0;m<arguments.length;m++){var i=arguments[m];switch(typeof i){case"function":k=i;break;case"string":q=i;break;case"number":l=i;break}}var n=new jasmine.WaitsForBlock(this.env,l,k,q,this);this.addToQueue(n);return this};jasmine.Spec.prototype.fail=function(c){var d=new jasmine.ExpectationResult({passed:false,message:c?jasmine.util.formatException(c):"Exception",trace:{stack:c.stack}});this.results_.addResult(d)};jasmine.Spec.prototype.getMatchersClass_=function(){return this.matchersClass||this.env.matchersClass};jasmine.Spec.prototype.addMatchers=function(d){var f=this.getMatchersClass_();var e=function(){f.apply(this,arguments)};jasmine.util.inherit(e,f);jasmine.Matchers.wrapInto_(d,e);this.matchersClass=e};jasmine.Spec.prototype.finishCallback=function(){this.env.reporter.reportSpecResults(this)};jasmine.Spec.prototype.finish=function(b){this.removeAllSpies();this.finishCallback();if(b){b()}};jasmine.Spec.prototype.after=function(b){if(this.queue.isRunning()){this.queue.add(new jasmine.Block(this.env,b,this))}else{this.afterCallbacks.unshift(b)}};jasmine.Spec.prototype.execute=function(c){var d=this;if(!d.env.specFilter(d)){d.results_.skipped=true;d.finish(c);return}this.env.reporter.reportSpecStarting(this);d.env.currentSpec=d;d.addBeforesAndAftersToQueue();d.queue.start(function(){d.finish(c)})};jasmine.Spec.prototype.addBeforesAndAftersToQueue=function(){var f=this.env.currentRunner();var e;for(var d=this.suite;d;d=d.parentSuite){for(e=0;e<d.before_.length;e++){this.queue.addBefore(new jasmine.Block(this.env,d.before_[e],this))}}for(e=0;e<f.before_.length;e++){this.queue.addBefore(new jasmine.Block(this.env,f.before_[e],this))}for(e=0;e<this.afterCallbacks.length;e++){this.queue.add(new jasmine.Block(this.env,this.afterCallbacks[e],this))}for(d=this.suite;d;d=d.parentSuite){for(e=0;e<d.after_.length;e++){this.queue.add(new jasmine.Block(this.env,d.after_[e],this))}}for(e=0;e<f.after_.length;e++){this.queue.add(new jasmine.Block(this.env,f.after_[e],this))}};jasmine.Spec.prototype.explodes=function(){throw"explodes function should not have been called"};jasmine.Spec.prototype.spyOn=function(g,e,h){if(g==jasmine.undefined){throw"spyOn could not find an object to spy upon for "+e+"()"}if(!h&&g[e]===jasmine.undefined){throw e+"() method does not exist"}if(!h&&g[e]&&g[e].isSpy){throw new Error(e+" has already been spied upon")}var f=jasmine.createSpy(e);this.spies_.push(f);f.baseObj=g;f.methodName=e;f.originalValue=g[e];g[e]=f;return f};jasmine.Spec.prototype.removeAllSpies=function(){for(var d=0;d<this.spies_.length;d++){var c=this.spies_[d];c.baseObj[c.methodName]=c.originalValue}this.spies_=[]};jasmine.Suite=function(i,h,f,j){var g=this;g.id=i.nextSuiteId?i.nextSuiteId():null;g.description=h;g.queue=new jasmine.Queue(i);g.parentSuite=j;g.env=i;g.before_=[];g.after_=[];g.children_=[];g.suites_=[];g.specs_=[]};jasmine.Suite.prototype.getFullName=function(){var c=this.description;for(var d=this.parentSuite;d;d=d.parentSuite){c=d.description+" "+c}return c};jasmine.Suite.prototype.finish=function(b){this.env.reporter.reportSuiteResults(this);this.finished=true;if(typeof(b)=="function"){b()}};jasmine.Suite.prototype.beforeEach=function(b){b.typeName="beforeEach";this.before_.unshift(b)};jasmine.Suite.prototype.afterEach=function(b){b.typeName="afterEach";this.after_.unshift(b)};jasmine.Suite.prototype.results=function(){return this.queue.results()};jasmine.Suite.prototype.add=function(b){this.children_.push(b);if(b instanceof jasmine.Suite){this.suites_.push(b);this.env.currentRunner().addSuite(b)}else{this.specs_.push(b)}this.queue.add(b)};jasmine.Suite.prototype.specs=function(){return this.specs_};jasmine.Suite.prototype.suites=function(){return this.suites_};jasmine.Suite.prototype.children=function(){return this.children_};jasmine.Suite.prototype.execute=function(c){var d=this;this.queue.start(function(){d.finish(c)})};jasmine.WaitsBlock=function(d,f,e){this.timeout=f;jasmine.Block.call(this,d,null,e)};jasmine.util.inherit(jasmine.WaitsBlock,jasmine.Block);jasmine.WaitsBlock.prototype.execute=function(b){if(jasmine.VERBOSE){this.env.reporter.log(">> Jasmine waiting for "+this.timeout+" ms...")}this.env.setTimeout(function(){b()},this.timeout)};jasmine.WaitsForBlock=function(f,h,i,j,g){this.timeout=h||f.defaultTimeoutInterval;this.latchFunction=i;this.message=j;this.totalTimeSpentWaitingForLatch=0;jasmine.Block.call(this,f,null,g)};jasmine.util.inherit(jasmine.WaitsForBlock,jasmine.Block);jasmine.WaitsForBlock.TIMEOUT_INCREMENT=10;jasmine.WaitsForBlock.prototype.execute=function(h){if(jasmine.VERBOSE){this.env.reporter.log(">> Jasmine waiting for "+(this.message||"something to happen"))}var g;try{g=this.latchFunction.apply(this.spec)}catch(i){this.spec.fail(i);h();return}if(g){h()}else{if(this.totalTimeSpentWaitingForLatch>=this.timeout){var j="timed out after "+this.timeout+" msec waiting for "+(this.message||"something to happen");this.spec.fail({name:"timeout",message:j});this.abort=true;h()}else{this.totalTimeSpentWaitingForLatch+=jasmine.WaitsForBlock.TIMEOUT_INCREMENT;var e=this;this.env.setTimeout(function(){e.execute(h)},jasmine.WaitsForBlock.TIMEOUT_INCREMENT)}}};jasmine.version_={major:1,minor:2,build:0,revision:1337005947};