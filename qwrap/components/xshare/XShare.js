void function(){function a(d){this.model=new c(d).init();this.view=new b(this.model).init()}a.sharingCallback=null;a.exec=function(d){return new a(d).init()};a.prototype={init:function(){this.view.open();if(a.sharingCallback){a.sharingCallback(this.model.type,this.model.getUrl(),this.model)}return this}};function c(d){this.type;this.url;this.image;this.textContent;for(var e in d){this[e]=d[e]}}c.prototype={init:function(){return this},getUrl:function(){var d=[];var e="";switch(this.type){case"sina_weibo":if(this.url){d.push(["url",encodeURIComponent(this.url)].join("="))}if(this.textContent){d.push(["title",encodeURIComponent(this.textContent)].join("="))}if(this.sourceUrl){d.push(["source",encodeURIComponent(this.sourceUrl)].join("="))}if(this.image){d.push(["pic",encodeURIComponent(this.image)].join("="))}if(this.appkey){d.push(["appkey",this.appkey].join("="))}if(this.ralateUid){d.push(["ralateUid",this.ralateUid].join("="))}if(this.source){d.push(["source",this.source].join("="))}if(this.content){d.push(["content",this.content].join("="))}d.push(["count",1].join("="));e="http://service.weibo.com/share/share.php?"+d.join("&");break;case"sohu_weibo":if(this.url){d.push(["url",encodeURIComponent(this.url)].join("="))}if(this.textContent){d.push(["title",encodeURIComponent(this.textContent+" ")].join("="))}if(this.image){d.push(["pic",encodeURIComponent(this.image)].join("="))}d.push(["content","utf-8"].join("="));e="http://t.sohu.com/third/post.jsp?"+d.join("&");break;case"tencent_weibo":if(this.url){d.push(["url",encodeURIComponent(this.url)].join("="))}if(this.textContent){d.push(["title",encodeURIComponent(this.textContent+" ")].join("="))}if(this.image){d.push(["pic",encodeURIComponent(this.image)].join("="))}if(this.site){d.push(["site",encodeURIComponent(this.site)].join("="))}if(this.appkey){d.push(["appkey",this.appkey].join("="))}e="http://v.t.qq.com/share/share.php?"+d.join("&");break}return e}};function b(d){this.model=d}b.prototype={init:function(){return this},open:function(){var d=this.model.getUrl();window.open(d,"XSHARE_WINDOW",this.model.windowParams||"")}};window.XShare=a}();