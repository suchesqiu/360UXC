(function(){var w=QW.ArrayH.indexOf,o=QW.ObjectH.mix,q=QW.CustEvent,r=QW.NodeH,x=r.hasClass,u=r.addClass,p=r.removeClass,s=r.query,y=QW.EventTargetH,t=y.delegate,v=y.on;var z=function(a){o(this,a||{},true);this.items=this.items||[];q.createEvents(this,z.EVENTS)};z.EVENTS=["beforeswitch","afterswitch"];o(z.prototype,{selectedIndex:-1,isSwitching:false,switchTo:function(a){alert("Switch to: "+a)},switchToItem:function(a){var b=w(this.items,a);return this.switchTo(b)},next:function(){var a=(this.selectedIndex+1)%this.items.length;this.switchTo(a)},previous:function(){var a=this.selectedIndex-1;if(a<0){a=this.items.length-1}this.switchTo(a)}});function n(h,f){var a=this;a.host=h;z.call(a,f);this.items=s(h,this.tabSelector)||[];this.views=this.views||this.viewSelector&&s(h,this.viewSelector)||[];var d=-1,b=this.items;for(var c=0;c<b.length;c++){if(x(b[c],this.selectedClass)){d=c;break}}if(d>-1){this.switchTo(d)}if(a.autoPlay){var i=0;function e(){clearInterval(i);i=setInterval(function(){if(h.offsetWidth&&!a.autoPlayPausing){a.next()}},a.autoPlayTime||3000)}e();v(h,"mouseenter",function(){clearInterval(i)});v(h,"mouseleave",e)}if(this.pageUpSelector){t(h,this.pageUpSelector,"click",function(k){a.previous();k.preventDefault()})}if(this.pageDownSelector){t(h,this.pageDownSelector,"click",function(k){a.next();k.preventDefault()})}if(this.tabSelector){if(a.supportMouseenter){var g=0;t(h,a.tabSelector,"mouseenter",function(k){var l=this;u(l,a.preselectedClass);if(a.mouseenterSwitchTime!=null){clearTimeout(g);g=setTimeout(function(){a.switchToItem(l)},a.mouseenterSwitchTime|0)}k.preventDefault()});t(h,a.tabSelector,"mouseleave",function(k){p(this,a.preselectedClass);clearTimeout(g);k.preventDefault()})}var j=this.switchEvents||this.defaultSwitchEvents;t(h,a.tabSelector,String(j),function(k){a.switchToItem(this);k.preventDefault()})}}o(n.prototype,[{tabSelector:".slide-nav li",viewSelector:".slide-content li",pageDownSelector:".slide-pagedown",pageUpSelector:".slide-pageup",selectedClass:"selected",preselectedClass:"preselected",selectedViewClass:"selected",defaultSwitchEvents:["click"],switchTo:function(b){var a=this.selectedIndex,c={fromIndex:a,toIndex:b,fromItem:this.items[a],toItem:this.items[b],fromView:this.views[a],toView:this.views[b]};if(b==a){return}if(!this.fire("beforeswitch",c)){return}this.isSwitching=true;this.selectedIndex=b;this.switchAnim(c)},switchAnim:function(g){var d=this;function f(){d.switchDone(g)}if(g.fromItem){p(g.fromItem,this.selectedClass)}if(g.toItem){u(g.toItem,this.selectedClass)}switch(this.animType){case"fade":if(g.fromView){QW.NodeW(g.fromView).css("opacity",1).animate({opacity:0},this.animDur||500,function(){QW.NodeW(g.fromView).removeClass(d.selectedViewClass)},this.animEasing)}return QW.NodeW(g.toView).addClass(d.selectedViewClass).animate({opacity:{from:0,to:1}},this.animDur||500,f,this.animEasing);case"scroll":if(g.fromView){for(var e=0,a;a=d.views[e++];){QW.NodeH[a==g.fromView||a==g.toView?"show":"hide"](a)}}var b=g.toView.parentNode,c=4;while(c--){if(b.scrollWidth>1.5*b.offsetWidth){if(g.fromView){b.scrollLeft=g.fromView.offsetLeft}return QW.NodeW(b).animate({scrollLeft:g.toView.offsetLeft},this.animDur||500,f,this.animEasing)}if(b.scrollHeight>1.5*b.offsetHeight){if(g.fromView){b.scrollTop=g.fromView.offsetTop}return QW.NodeW(b).animate({scrollTop:g.toView.offsetTop},this.animDur||500,f,this.animEasing)}b=b.parentNode}default:if(g.fromView){p(g.fromView,this.selectedViewClass)}if(g.toView){u(g.toView,this.selectedViewClass)}f()}},switchDone:function(a){this.isSwitching=false;this.selectedIndex=a.toIndex;this.fire("afterswitch",a)}},z.prototype]);QW.provide({TabView:n,Slide:n})}());(function(){var m=QW.ObjectH.mix,k=QW.NodeH,l=k.g,n=QW.Jss,i=QW.JssTargetH,j=i.getJss;n.addRules({".widget-slide":{tabSelector:".slide-nav li",viewSelector:".slide-content li",pageUpSelector:".slide-pageup",pageDownSelector:".slide-pagedown",autoPlay:true,supportMouseenter:true,mouseenterSwitchTime:300}});var g={switchable:function(b,e){b=l(b);var f={},c="tabSelector viewSelector pageUpSelector pageDownSelector selectedClass preselectedClass selectedViewClass autoPlay autoPlayPausing autoPlayTime supportMouseenter mouseenterSwitchTime switchEvents animType animDur switchEvents onbeforeswitch onafterswitch".split(" ");for(var d=0;d<c.length;d++){var a=j(b,c[d]);if(a!=null){f[c[d]]=a}}m(f,e);b.__slide=new QW.Slide(b,f)}};QW.NodeW.pluginHelper(g,"operator");if(QW.Dom){QW.ObjectH.mix(QW.Dom,g)}QW.DomU.ready(function(){QW.NodeW("div.widget-slide").switchable()})}());