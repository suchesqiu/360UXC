(function(){var d=QW.ArrayH.indexOf,l=QW.ObjectH.mix,j=QW.CustEvent,i=QW.NodeH,c=i.hasClass,f=i.addClass,k=i.removeClass,h=i.query,b=QW.EventTargetH,g=b.delegate,e=b.on;var a=function(n){l(this,n||{},true);this.items=this.items||[];j.createEvents(this,a.EVENTS)};a.EVENTS=["beforeswitch","afterswitch"];l(a.prototype,{selectedIndex:-1,isSwitching:false,switchTo:function(n){alert("Switch to: "+n)},switchToItem:function(o){var n=d(this.items,o);return this.switchTo(n)},next:function(){var n=(this.selectedIndex+1)%this.items.length;this.switchTo(n)},previous:function(){var n=this.selectedIndex-1;if(n<0){n=this.items.length-1}this.switchTo(n)}});function m(u,w){var r=this;r.host=u;a.call(r,w);this.items=h(u,this.tabSelector)||[];this.views=this.views||this.viewSelector&&h(u,this.viewSelector)||[];var o=-1,q=this.items;for(var p=0;p<q.length;p++){if(c(q[p],this.selectedClass)){o=p;break}}if(o>-1){this.switchTo(o)}if(r.autoPlay){var t=0;function n(){clearInterval(t);t=setInterval(function(){if(u.offsetWidth&&!r.autoPlayPausing){r.next()}},r.autoPlayTime||3000)}n();e(u,"mouseenter",function(){clearInterval(t)});e(u,"mouseleave",n)}if(this.pageUpSelector){g(u,this.pageUpSelector,"click",function(x){r.previous();x.preventDefault()})}if(this.pageDownSelector){g(u,this.pageDownSelector,"click",function(x){r.next();x.preventDefault()})}if(this.tabSelector){if(r.supportMouseenter){var v=0;g(u,r.tabSelector,"mouseenter",function(x){var y=this;f(y,r.preselectedClass);if(r.mouseenterSwitchTime!=null){clearTimeout(v);v=setTimeout(function(){r.switchToItem(y)},r.mouseenterSwitchTime|0)}x.preventDefault()});g(u,r.tabSelector,"mouseleave",function(x){k(this,r.preselectedClass);clearTimeout(v);x.preventDefault()})}var s=this.switchEvents||this.defaultSwitchEvents;g(u,r.tabSelector,String(s),function(x){r.switchToItem(this);x.preventDefault()})}}l(m.prototype,[{tabSelector:".slide-nav li",viewSelector:".slide-content li",pageDownSelector:".slide-pagedown",pageUpSelector:".slide-pageup",selectedClass:"selected",preselectedClass:"preselected",selectedViewClass:"selected",defaultSwitchEvents:["click"],switchTo:function(o){var p=this.selectedIndex,n={fromIndex:p,toIndex:o,fromItem:this.items[p],toItem:this.items[o],fromView:this.views[p],toView:this.views[o]};if(o==p){return}if(!this.fire("beforeswitch",n)){return}this.isSwitching=true;this.selectedIndex=o;this.switchAnim(n)},switchAnim:function(n){var q=this;function o(){q.switchDone(n)}if(n.fromItem){k(n.fromItem,this.selectedClass)}if(n.toItem){f(n.toItem,this.selectedClass)}switch(this.animType){case"fade":if(n.fromView){QW.NodeW(n.fromView).css("opacity",1).animate({opacity:0},this.animDur||500,function(){QW.NodeW(n.fromView).removeClass(q.selectedViewClass)},this.animEasing)}return QW.NodeW(n.toView).addClass(q.selectedViewClass).animate({opacity:{from:0,to:1}},this.animDur||500,o,this.animEasing);case"scroll":if(n.fromView){for(var p=0,t;t=q.views[p++];){QW.NodeH[t==n.fromView||t==n.toView?"show":"hide"](t)}}var s=n.toView.parentNode,r=4;while(r--){if(s.scrollWidth>1.5*s.offsetWidth){if(n.fromView){s.scrollLeft=n.fromView.offsetLeft}return QW.NodeW(s).animate({scrollLeft:n.toView.offsetLeft},this.animDur||500,o,this.animEasing)}if(s.scrollHeight>1.5*s.offsetHeight){if(n.fromView){s.scrollTop=n.fromView.offsetTop}return QW.NodeW(s).animate({scrollTop:n.toView.offsetTop},this.animDur||500,o,this.animEasing)}s=s.parentNode}default:if(n.fromView){k(n.fromView,this.selectedViewClass)}if(n.toView){f(n.toView,this.selectedViewClass)}o()}},switchDone:function(n){this.isSwitching=false;this.selectedIndex=n.toIndex;this.fire("afterswitch",n)}},a.prototype]);QW.provide({TabView:m,Slide:m})}());