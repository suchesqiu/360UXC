(function(){Popup=(function(){var c={wrapId:"BasePanel01",className:"pop_info",withClose:true,withCorner:true,withCue:true,withShadow:false,withBgIframe:true,keyEsc:false,withMask:false,dragable:false,resizable:false,posCenter:false,posAdjust:false,body:""};var b={animTime:300,showEasing:QW.Easing.easeOut,closeEasing:QW.Easing.easeIn,succTime:1000};function a(e,k,l,i,d){var f=new ElAnim(e,{top:{from:k,to:l}},b.animTime,i),m=(QW.Browser.firefox||QW.Browser.ie)?document.documentElement:document.body;e.parentNode().css("overflow","hidden");f.on("end",function(){e.parentNode().css("overflow","visible");d&&d()});var j=e.getRect();if(j.top<Dom.getDocRect().scrollY){e.hide();var h=new ScrollAnim(m,{scrollTop:{to:j.top}},b.animTime,QW.Easing.easeBothStrong);h.on("end",function(){e.show();f.play()});h.play()}else{f.play()}}return{confirm:function(h,i,m,q,k){c.body=QW.StringH.tmpl(['<div class="pop_in">','<h4><span class="i_warn"></span>{$msg}</h4>','<p><input type="button" class="confirm" value="确认" />','<input type="button" class="cancel" value="取消" /></p>',"</div>"].join(""),{msg:i});var d=new QW.BasePanel(c),f=W(d.oWrap),o=Dom.getRect(h);d.on("afterhide",function(){this.dispose();l.parentNode().removeChild(l)});k&&d.on("aftershow",k);d.show(0,0,null,null,g("evalBtn"));var e=f[0].offsetWidth,p=f[0].offsetHeight,j=o.left+o.width/2-d.oWrap.offsetWidth/2,n=o.top-p,l=W(document.createElement("div"));l.css("width",e+"px").css("height",p+"px").css("left",j+"px").css("top",n+"px").addClass("pop_stage");W(document.body).appendChild(l);l.appendChild(f);a(f,p,0,b.showEasing);f.css("top",p+"px");f.delegate("input","click",function(){a(f,0,p,b.closeEasing,function(){d.hide()});this.className=="confirm"?(m&&m()):(q&&q())})},succ:function(h,i){c.body=QW.StringH.tmpl(['<div class="pop_in">','<h4><span class="i_right"></span>{$msg}</h4>',"</div>"].join(""),{msg:i});var d=new QW.BasePanel(c),e=W(d.oWrap),m=Dom.getRect(h);d.on("afterhide",function(){this.dispose()});d.show(0,0,null,null,g("evalBtn"));var f=e[0].offsetWidth,n=e[0].offsetHeight,j=m.left+m.width/2-d.oWrap.offsetWidth/2,l=m.top-n,k=W(document.createElement("div"));k.css("width",f+"px").css("height",n+"px").css("left",j+"px").css("top",l+"px").addClass("pop_stage");W(document.body).appendChild(k);k.appendChild(e);a(e,n,0,b.showEasing);e.css("top",n+"px");setTimeout(function(){a(e,0,n,b.closeEasing,function(){d.hide();k.parentNode().removeChild(k)})},b.succTime)},fail:function(h,i,n){c.body=QW.StringH.tmpl(['<div class="pop_in">','<h4><span class="i_wrong"></span>{$msg}</h4>','<p><input type="button" class="confirm" value="确认" /></p>',"</div>"].join(""),{msg:i});var d=new QW.BasePanel(c),m=Dom.getRect(h),e=W(d.oWrap);d.on("afterhide",function(){this.dispose()});d.show(0,0,null,null,g("evalBtn"));var f=e[0].offsetWidth,o=e[0].offsetHeight,j=m.left+m.width/2-d.oWrap.offsetWidth/2,l=m.top-o,k=W(document.createElement("div"));k.css("width",f+"px").css("height",o+"px").css("left",j+"px").css("top",l+"px").addClass("pop_stage");W(document.body).appendChild(k);k.appendChild(e);a(e,o,0,b.showEasing);e.css("top",o+"px");e.delegate("input","click",function(){a(e,0,o,b.closeEasing,function(){d.hide();k.parentNode().removeChild(k)});n&&n()})}}})();QW.provide({Popup:Popup})})();