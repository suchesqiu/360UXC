void function(){window.XCLONEDRAG_IS_INITED=window.XCLONEDRAG_IS_INITED||false;function e(a){this.model=new g(a).init();this.view=new h(this.model).init()}e.exec=function(a){return new e(a).init()};e.prototype={init:function(){var a=this;if(!a.model.dragItem){return}a.model.dragItem.xclonedrag=a;attach_event_f(a.model.dragItem,"mousedown",a.view.mouseDown);if(!window.XCLONEDRAG_IS_INITED){attach_event_f(document,"mousemove",a.view.mouseMove);attach_event_f(document,"mouseup",a.view.mouseUp);window.XCLONEDRAG_IS_INITED=true}return this}};function g(b){this.dragItem;this.cloneItemAppendNode;this.offsetDownPoint;this.afterDownCallback;this.afterMoveCallback;this.afterUpCallback;this.checkDownCallback;for(var a in b){this[a]=b[a]}}g.prototype={init:function(){this.cloneItemAppendNode=this.cloneItemAppendNode||document.body;return this}};function h(a){this.model=a}h.prototype={init:function(){return this},mouseDown:function(c){c=c||window.event;preventDefault(c);var b=this.xclonedrag;f();if(typeof b.model.checkDownCallback=="function"){if(!b.model.checkDownCallback(c,b.model.dragItem)){return false}}var a=ele_pos_f(this);window.XCLONE_DRAG_ITEM=this.cloneNode(true);window.XCLONE_DRAG_ITEM.style.zIndex=getMaxIndex();window.XCLONE_DRAG_ITEM.style.left=a.left+"px";window.XCLONE_DRAG_ITEM.style.top=a.top+"px";window.XCLONE_DRAG_ITEM.style.position="absolute";window.XCLONE_DRAG_ITEM.p=b;b.model.offsetDownPoint=new Point(mouseX(c)-a.left,mouseY(c)-a.top);b.model.cloneItemAppendNode.appendChild(window.XCLONE_DRAG_ITEM);if(typeof b.model.afterDownCallback=="function"){b.model.afterDownCallback.call(b,c,this,window.XCLONE_DRAG_ITEM)}return false},mouseMove:function(a){preventDefault(a);a=a||window.event;if(!window.XCLONE_DRAG_ITEM){return}window.XCLONE_DRAG_ITEM.style.left=mouseX(a)-window.XCLONE_DRAG_ITEM.p.model.offsetDownPoint.x+"px";window.XCLONE_DRAG_ITEM.style.top=mouseY(a)-window.XCLONE_DRAG_ITEM.p.model.offsetDownPoint.y+"px";if(typeof window.XCLONE_DRAG_ITEM.p.model.afterMoveCallback=="function"){window.XCLONE_DRAG_ITEM.p.model.afterMoveCallback.call(window.XCLONE_DRAG_ITEM.p,a,window.XCLONE_DRAG_ITEM.p.model.dragItem,window.XCLONE_DRAG_ITEM)}},mouseUp:function(a){a=a||window.event;if(!window.XCLONE_DRAG_ITEM){return}if(typeof window.XCLONE_DRAG_ITEM.p.model.afterUpCallback=="function"){window.XCLONE_DRAG_ITEM.p.model.afterUpCallback.call(window.XCLONE_DRAG_ITEM.p,a,window.XCLONE_DRAG_ITEM.p.model.dragItem,window.XCLONE_DRAG_ITEM)}f()}};function f(){if(window.XCLONE_DRAG_ITEM&&window.XCLONE_DRAG_ITEM.parentNode){window.XCLONE_DRAG_ITEM.parentNode.removeChild(window.XCLONE_DRAG_ITEM)}if(window.XCLONE_DRAG_ITEM&&window.XCLONE_DRAG_ITEM.p&&window.XCLONE_DRAG_ITEM.p.cloneItemAppendNode){window.XCLONE_DRAG_ITEM.p.cloneItemAppendNode.innerHTML=""}window.XCLONE_DRAG_ITEM=null}window.XCloneDrag=e}();