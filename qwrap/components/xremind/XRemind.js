void function(){function l(a){this.model=new j(a);this.view=new k(this.model)}l.SUCCESS=1;l.FAILED=2;l.ALTER=3;l.CLASSNAME=null;l.TPL=null;l.exec=function(a){return new l(a).init()};l.prototype={init:function(){this.view.init();return this}};function j(b){this.type;this.injectCallback;this.doneCallback;this.tip;this.msg;this.interval;this.timeout;this.autoHiddenMs=3000;this.classname={success:"tishi_A",failed:"tishi_A tishi_B",alter:"tishi_A tishi_C"};this.date=new Date();this.movingIntervalMs=2;this.effect_intervalMs=200;this.tpl='<p></p><span>{msg}</span><a href="#" title="" class="close__"></a>';if(l.CLASSNAME){this.classname=l.CLASSNAME}if(l.TPL){this.tpl=l.TPL}for(var a in b){this[a]=b[a]}}j.prototype={getTip:function(){if(!this.tip){this.tip=document.createElement("div");this.tpl=this.tpl.replace(/\{msg\}/gi,this.msg);this.tip.innerHTML=this.tpl;switch(this.type){case l.SUCCESS:this.tip.className=this.classname.success;break;case l.FAILED:this.tip.className=this.classname.failed;break;case l.ALTER:this.tip.className=this.classname.alter;break}}return this.tip}};function k(a){this.model=a}k.prototype={init:function(){var b=this;var a=b.model.getTip();if(b.model.injectCallback){b.model.injectCallback(a)}else{document.body.appendChild(a)}i(h("close__",a),function(c){c.onclick=function(e){n(e);if(b.model.timeout){clearTimeout(b.model.timeout);b.model.timeout=null}if(b.model.interval){clearInterval(b.model.interval);b.model.interval=null}try{a.parentNode.removeChild(a)}catch(d){}}});b.model.timeout=setTimeout(function(){b.hideTip()},b.model.autoHiddenMs)},hideTip:function(){var e=this;var f=e.model.getTip();var d=f.offsetHeight;f.style.height=d+"px";f.style.overflow="hidden";var a=0;var b=e.model.effect_intervalMs/e.model.movingIntervalMs;var c=new Date();e.model.interval=setInterval(function(){var p=new Date()-c;a=p/e.model.effect_intervalMs*d;if(p>=e.model.effect_intervalMs){a=d}f.style.height=d-a+"px";if(a===d){clearInterval(e.model.interval);e.model.interval=null;try{f.parentNode.removeChild(f)}catch(g){}if(e.model.doneCallback){e.model.doneCallback()}}},2)}};function h(c,b,d){b=b||document.body;d=d||[];var a=b.firstChild;if(a){if(m(a,c)){d.push(a)}if(a.childNodes.length){arguments.callee(c,a,d)}while(a=a.nextSibling){if(m(a,c)){d.push(a)}if(a.childNodes.length){arguments.callee(c,a,d)}}}return d}function m(a,b){return(!a||!a.className)?false:(new RegExp("\\b"+b+"\\b")).test(a.className)}function n(a){a=a||window.event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}}function i(b,f){var g=0;if(b.length){for(var a=0,c=b.length;a<c;a++){if(d(a,g,f)===false){return}g++}}else{for(var e in b){if(d(e,g,f)===false){return}g++}}function d(o){if(f){return f(b[o],g)}}}window.XRemind=l}();